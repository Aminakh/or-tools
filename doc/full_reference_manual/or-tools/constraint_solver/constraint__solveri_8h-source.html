<!-- Good morning, Mr. Phelps. -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>or-tools/constraint_solver/constraint_solveri.h Source File - Doxy</title>
    <link rel="shortcut icon" href="../../favicon.ico">
    <!-- Both stylesheets are supplied by Doxygen, with maybe minor tweaks from Google. -->
    <link href="../../doxygen.css" rel="stylesheet" type="text/css">
    <link href="../../tabs.css" rel="stylesheet" type="text/css">
  </head>

  <body topmargin=0 leftmargin=20 bottommargin=0 rightmargin=20 marginwidth=20 marginheight=0>
  <!-- Second part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
  <style>
    a.doxy_logo:hover {
      background-color: #785251
    }
  </style>

  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <!-- Top horizontal line with the color of the day. -->
    <tr valign=top>
      <td colspan=3 bgcolor=#785251 height=3></td>
    </tr>

    <!-- Header row with the links at the right. -->
    <tr valign=top>
      <td colspan=3 align=right>
        <font size=-1>
          Generated on: <font color=#785251><b>Thu Nov  3 05:40:09 PDT 2011</b></font>
            for <b>custom file set</b>
        </font>
      </td>
    </tr>

    <!-- Header row with the logo and the search form. -->
    <tr valign=top>
      <!-- Logo. -->
      <td align=left width=150>
        <table width=150 height=54 cellpadding=0 cellspacing=0 border=0>
          <tr valign=top>
            <!-- First part of the secret behind Doxy logo always having the word "Doxy" with the color of the day. -->
            <td bgcolor=#785251>
              <a class="doxy_logo" href="../../index.html"><img src="../../doxy_logo.png" alt="Doxy" border=0></a>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <!-- Tiny vertical space below the form. -->
    <tr valign=top>
      <td colspan=3 height=3></td>
    </tr>
  </table>

  <!-- Header navigation row. -->
  <div class="memproto">
    <table width=100% cellpadding=0 cellspacing=0 border=0>
      <tr>
        <td align=left style="padding-left: 20px"><font size=+1><b><tt><font color=#333333>//
            <a href="../../index.html"><font color=#785251>doxy</font></a>/</font>
            <a href="../../or-tools/index.html">or-tools</a>/
            <a href="../../or-tools/constraint_solver/index.html">constraint_solver</a>/
            </tt></b></font>
        </td>
      </tr>
    </table>
  </div>
  <br />
    <!-- No subdirs found. -->
  <!-- End of header. -->
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>or-tools/constraint_solver/constraint_solveri.h</h1><a href="constraint__solveri_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright 2010-2011 Google</span>
<a name="l00002"></a>00002 <span class="comment">// Licensed under the Apache License, Version 2.0 (the "License");</span>
<a name="l00003"></a>00003 <span class="comment">// you may not use this file except in compliance with the License.</span>
<a name="l00004"></a>00004 <span class="comment">// You may obtain a copy of the License at</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Unless required by applicable law or agreed to in writing, software</span>
<a name="l00009"></a>00009 <span class="comment">// distributed under the License is distributed on an "AS IS" BASIS,</span>
<a name="l00010"></a>00010 <span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00011"></a>00011 <span class="comment">// See the License for the specific language governing permissions and</span>
<a name="l00012"></a>00012 <span class="comment">// limitations under the License.</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">// Collection of objects used to extend the Constraint Solver library.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// This file contains a set of objects that simplifies writing extensions</span>
<a name="l00017"></a>00017 <span class="comment">// of the library.</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">// The main objects that define extensions are:</span>
<a name="l00020"></a>00020 <span class="comment">//   - BaseIntExpr the base class of all expressions that are not variables.</span>
<a name="l00021"></a>00021 <span class="comment">//   - SimpleRevFIFO a reversible FIFO list with templatized values.</span>
<a name="l00022"></a>00022 <span class="comment">//     A reversible data structure is a data structure that reverts its</span>
<a name="l00023"></a>00023 <span class="comment">//     modifications when the search is going up in the search tree, usually</span>
<a name="l00024"></a>00024 <span class="comment">//     after a failure occurs.</span>
<a name="l00025"></a>00025 <span class="comment">//   - MakeConstraintDemon&lt;n&gt; and MakeDelayedConstraintDemon&lt;n&gt; to wrap methods</span>
<a name="l00026"></a>00026 <span class="comment">//     of a constraint as a demon.</span>
<a name="l00027"></a>00027 <span class="comment">//   - LocalSearchOperator, IntVarLocalSearchOperator, ChangeValue and</span>
<a name="l00028"></a>00028 <span class="comment">//     PathOperator to create new local search operators.</span>
<a name="l00029"></a>00029 <span class="comment">//   - LocalSearchFilter and IntVarLocalSearchFilter to create new local</span>
<a name="l00030"></a>00030 <span class="comment">//     search filters.</span>
<a name="l00031"></a>00031 <span class="comment">//   - BaseLNS to write Large Neighbood Search operators.</span>
<a name="l00032"></a>00032 <span class="comment">//   - SymmetryBreaker to describe model symmetries that will be broken during</span>
<a name="l00033"></a>00033 <span class="comment">//     search using the 'Symmetry Breaking During Search' framework</span>
<a name="l00034"></a>00034 <span class="comment">//     see Gent, I. P., Harvey, W., &amp; Kelsey, T. (2002).</span>
<a name="l00035"></a>00035 <span class="comment">//     Groups and Constraints: Symmetry Breaking During Search.</span>
<a name="l00036"></a>00036 <span class="comment">//     Principles and Practice of Constraint Programming CP2002</span>
<a name="l00037"></a>00037 <span class="comment">//     (Vol. 2470, pp. 415-430). Springer. Retrieved from</span>
<a name="l00038"></a>00038 <span class="comment">//     http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.11.1442</span>
<a name="l00039"></a>00039 <span class="comment">//</span>
<a name="l00040"></a>00040 <span class="comment">// Then, there are some internal classes that are used throughout the solver</span>
<a name="l00041"></a>00041 <span class="comment">// and exposed in this file:</span>
<a name="l00042"></a>00042 <span class="comment">//   - SearchLog the root class of all periodic outputs during search.</span>
<a name="l00043"></a>00043 <span class="comment">//   - ModelCache A caching layer to avoid creating twice the same object.</span>
<a name="l00044"></a>00044 <span class="comment">//   - DependencyGraph a dedicated data structure to represent dependency graphs</span>
<a name="l00045"></a>00045 <span class="comment">//     in the scheduling world.</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#ifndef OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include "base/hash.h"</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="preprocessor">#include "base/callback-types.h"</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include "base/commandlineflags.h"</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include "base/integral_types.h"</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include "base/logging.h"</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include "base/scoped_ptr.h"</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include "base/sysinfo.h"</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include "base/timer.h"</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include "base/join.h"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include "base/bitmap.h"</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include "base/map-util.h"</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include "base/hash.h"</span>
<a name="l00067"></a>00067 <span class="preprocessor">#include "<a class="code" href="constraint__solver_8h.html">constraint_solver/constraint_solver.h</a>"</span>
<a name="l00068"></a>00068 <span class="preprocessor">#include "util/vector_map.h"</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>ResultCallback;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">class </span>WallTimer;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">namespace </span>operations_research {
<a name="l00075"></a>00075 <span class="keyword">class </span>CPArgumentProto;
<a name="l00076"></a>00076 <span class="keyword">class </span>CPConstraintProto;
<a name="l00077"></a>00077 <span class="keyword">class </span>CPIntegerExpressionProto;
<a name="l00078"></a>00078 <span class="keyword">class </span>CPIntervalVariableProto;
<a name="l00079"></a>00079 <span class="keyword">class </span>ConstIntArray;
<a name="l00080"></a>00080 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>ConstPtrArray;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="comment">// This is the base class for all expressions that are not variables.</span>
<a name="l00083"></a>00083 <span class="comment">// It proposes a basic 'CastToVar()' implementation.</span>
<a name="l00084"></a>00084 <span class="comment">// The class of expressions represent two types of objects: variables</span>
<a name="l00085"></a>00085 <span class="comment">// and subclasses of BaseIntExpr. Variables are stateful objects that</span>
<a name="l00086"></a>00086 <span class="comment">// provide a rich API (remove values, WhenBound...). On the other hand,</span>
<a name="l00087"></a>00087 <span class="comment">// subclasses of BaseIntExpr represent range-only stateless objects.</span>
<a name="l00088"></a>00088 <span class="comment">// That is the min(A + B) is recomputed each time as min(A) + min(B).</span>
<a name="l00089"></a>00089 <span class="comment">// Furthermore, sometimes, the propagation on an expression is not complete,</span>
<a name="l00090"></a>00090 <span class="comment">// and Min(), Max() are not monononic with respect to SetMin() and SetMax().</span>
<a name="l00091"></a>00091 <span class="comment">// For instance, A is a var with domain [0 .. 5], and B another variable</span>
<a name="l00092"></a>00092 <span class="comment">// with domain [0 .. 5]. Then Plus(A, B) has domain [0, 10].</span>
<a name="l00093"></a>00093 <span class="comment">// If we apply SetMax(Plus(A, B), 4)). Then we will deduce that both A</span>
<a name="l00094"></a>00094 <span class="comment">// and B will have domain [0 .. 4]. In that case, Max(Plus(A, B)) is 8</span>
<a name="l00095"></a>00095 <span class="comment">// and not 4.  To get back monotonicity, we will 'cast' the expression</span>
<a name="l00096"></a>00096 <span class="comment">// into a variable using the Var() method (that will call CastToVar()</span>
<a name="l00097"></a>00097 <span class="comment">// internally). The resulting variable will be stateful and monotonic.</span>
<a name="l00098"></a>00098 <span class="comment">//</span>
<a name="l00099"></a>00099 <span class="comment">// Finally, one should never store a pointer to a IntExpr, or</span>
<a name="l00100"></a>00100 <span class="comment">// BaseIntExpr in the code. The safe code should always call Var() on an</span>
<a name="l00101"></a>00101 <span class="comment">// expression built by the solver, and store the object as an IntVar*.</span>
<a name="l00102"></a>00102 <span class="comment">// This is a consequence of the stateless nature of the expressions that</span>
<a name="l00103"></a>00103 <span class="comment">// makes the code error-prone.</span>
<a name="l00104"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html">00104</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1BaseIntExpr.html" title="This is the base class for all expressions that are not variables.">BaseIntExpr</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a> {
<a name="l00105"></a>00105  <span class="keyword">public</span>:
<a name="l00106"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html#d7d12cdfcb4b9340db0ea792b5545419">00106</a>   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1BaseIntExpr.html#d7d12cdfcb4b9340db0ea792b5545419">BaseIntExpr</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) : <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>(s), var_(NULL) {}
<a name="l00107"></a><a class="code" href="classoperations__research_1_1BaseIntExpr.html#50d277c9f765af939b7534bfeb685dd4">00107</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1BaseIntExpr.html#50d277c9f765af939b7534bfeb685dd4">~BaseIntExpr</a>() {}
<a name="l00108"></a>00108 
<a name="l00109"></a>00109   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1BaseIntExpr.html#bc0b1cac77e1e4aac41bb6f95b441349" title="Creates a variable from the expression.">Var</a>();
<a name="l00110"></a>00110   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1BaseIntExpr.html#1d4d6a63140435221e0dfcaf913d6ffb">CastToVar</a>();
<a name="l00111"></a>00111   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1BaseIntExpr.html#df31ce654e47f0a049a4a17db94631b5">AddDelegateName</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; prefix,
<a name="l00112"></a>00112                        <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1PropagationBaseObject.html" title="The PropagationBaseObject is a subclass of BaseObject that is also friend to the...">PropagationBaseObject</a>* delegate) <span class="keyword">const</span>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114  <span class="keyword">private</span>:
<a name="l00115"></a>00115   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* var_;
<a name="l00116"></a>00116 };
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">// ----- utility classes -----</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment">// This class represent a reversible FIFO structure.</span>
<a name="l00121"></a>00121 <span class="comment">// The main diffence w.r.t a standart FIFO structure is that a Solver is</span>
<a name="l00122"></a>00122 <span class="comment">// given as parameter to the modifiers such that the solver can store the</span>
<a name="l00123"></a>00123 <span class="comment">// backtrack information</span>
<a name="l00124"></a>00124 <span class="comment">// Iterator's traversing order should not be changed, as some algorithm</span>
<a name="l00125"></a>00125 <span class="comment">// depend on it to be consistent.</span>
<a name="l00126"></a>00126 <span class="comment">// It's main use is to store a list of demons in the various classes of</span>
<a name="l00127"></a>00127 <span class="comment">// variables.</span>
<a name="l00128"></a>00128 <span class="preprocessor">#ifndef SWIG</span>
<a name="l00129"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html">00129</a> <span class="preprocessor"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html" title="utility classes">SimpleRevFIFO</a> {
<a name="l00130"></a>00130  <span class="keyword">private</span>:
<a name="l00131"></a>00131   <span class="keyword">enum</span> { CHUNK_SIZE = 16 };  <span class="comment">// TODO(user): could be an extra template param</span>
<a name="l00132"></a>00132   <span class="keyword">struct </span>Chunk {
<a name="l00133"></a>00133     T <a class="code" href="constraint__solver_8cc.html#daa4e0422c561cd3355217847b464c1a">data_</a>[CHUNK_SIZE];
<a name="l00134"></a>00134     <span class="keyword">const</span> Chunk* <span class="keyword">const</span> <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>;
<a name="l00135"></a>00135     <span class="keyword">explicit</span> Chunk(<span class="keyword">const</span> Chunk* <a class="code" href="constraint__solver_8cc.html#395f613555f398dd389670bb4c2a4599">next</a>) : <a class="code" href="model__cache_8cc.html#53d6ea59f292e1205c44619eed73d925">next_</a>(next) {}
<a name="l00136"></a>00136   };
<a name="l00137"></a>00137 
<a name="l00138"></a>00138  <span class="keyword">public</span>:
<a name="l00139"></a>00139   <span class="comment">// This iterator is not stable with respect to deletion.</span>
<a name="l00140"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html">00140</a>   <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html" title="This iterator is not stable with respect to deletion.">Iterator</a> {
<a name="l00141"></a>00141    <span class="keyword">public</span>:
<a name="l00142"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#542b5ed50647b660b9d87debcfaf5380">00142</a>     <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#542b5ed50647b660b9d87debcfaf5380">Iterator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html" title="utility classes">SimpleRevFIFO&lt;T&gt;</a>* l)
<a name="l00143"></a>00143         : chunk_(l-&gt;chunks_), value_(l-&gt;<a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>()) {}
<a name="l00144"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#46f7bbff178877d3e92fa8908105d370">00144</a>     <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#46f7bbff178877d3e92fa8908105d370">ok</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (value_ != NULL); }
<a name="l00145"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#c4cc38058b6ec67a52d14f9f4989adda">00145</a>     T <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#c4cc38058b6ec67a52d14f9f4989adda">operator*</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *value_; }
<a name="l00146"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#39b457178436af1a0baf7bdda6c75c10">00146</a>     <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO_1_1Iterator.html#39b457178436af1a0baf7bdda6c75c10">operator++</a>() {
<a name="l00147"></a>00147       ++value_;
<a name="l00148"></a>00148       <span class="keywordflow">if</span> (value_ == chunk_-&gt;data_ + CHUNK_SIZE) {
<a name="l00149"></a>00149         chunk_ = chunk_-&gt;next_;
<a name="l00150"></a>00150         value_ = chunk_ ? chunk_-&gt;data_ : NULL;
<a name="l00151"></a>00151       }
<a name="l00152"></a>00152     }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154    <span class="keyword">private</span>:
<a name="l00155"></a>00155     <span class="keyword">const</span> Chunk* chunk_;
<a name="l00156"></a>00156     <span class="keyword">const</span> T* value_;
<a name="l00157"></a>00157   };
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#fe165ef59bdd847273347b78397eed2d">00159</a>   <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#fe165ef59bdd847273347b78397eed2d">SimpleRevFIFO</a>() : chunks_(NULL), pos_(0) {}
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">00161</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">Push</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s, T val) {
<a name="l00162"></a>00162     <span class="keywordflow">if</span> (pos_ == 0) {
<a name="l00163"></a>00163       Chunk* <span class="keyword">const</span> chunk = s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#33e4733225dee453b75d83c991194286">UnsafeRevAlloc</a>(<span class="keyword">new</span> Chunk(chunks_));
<a name="l00164"></a>00164       s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#fca376d8b0abd52b94534112442f1614" title="All-in-one SaveAndSetValue.">SaveAndSetValue</a>(reinterpret_cast&lt;void**&gt;(&amp;chunks_),
<a name="l00165"></a>00165                          reinterpret_cast&lt;void*&gt;(chunk));
<a name="l00166"></a>00166       s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#fca376d8b0abd52b94534112442f1614" title="All-in-one SaveAndSetValue.">SaveAndSetValue</a>(&amp;pos_, CHUNK_SIZE - 1);
<a name="l00167"></a>00167     } <span class="keywordflow">else</span> {
<a name="l00168"></a>00168       s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#cf35e0062ce89a8fdf5c1762c5baebfe" title="All-in-one SaveAndAdd_value.">SaveAndAdd</a>(&amp;pos_, -1);
<a name="l00169"></a>00169     }
<a name="l00170"></a>00170     chunks_-&gt;data_[pos_] = val;
<a name="l00171"></a>00171   }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173   <span class="comment">// Pushes the var on top if is not a duplicate of the current top object.</span>
<a name="l00174"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#8a687b3e2756711e361d82db748ed33b">00174</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#8a687b3e2756711e361d82db748ed33b" title="Pushes the var on top if is not a duplicate of the current top object.">PushIfNotTop</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s, T val) {
<a name="l00175"></a>00175     <span class="keywordflow">if</span> (chunks_ == NULL || <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e" title="Returns the last value in the FIFO.">LastValue</a>() != val) {
<a name="l00176"></a>00176       <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#4f48d3ad864fe70677b0e3aa3e2d79e8">Push</a>(s, val);
<a name="l00177"></a>00177     }
<a name="l00178"></a>00178   }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180   <span class="comment">// Returns the last item of the FIFO.</span>
<a name="l00181"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6">00181</a>   <span class="keyword">const</span> T* <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> chunks_ ? &amp;chunks_-&gt;data_[pos_] : NULL; }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="comment">// Returns the last value in the FIFO.</span>
<a name="l00184"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e">00184</a>   <span class="keyword">const</span> T&amp; <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#7624aa6d7a7cf5b6d1e85a0c3e316d6e" title="Returns the last value in the FIFO.">LastValue</a>()<span class="keyword"> const </span>{
<a name="l00185"></a>00185     DCHECK(chunks_);
<a name="l00186"></a>00186     <span class="keywordflow">return</span> chunks_-&gt;data_[pos_];
<a name="l00187"></a>00187   }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189   <span class="comment">// Sets the last value in the FIFO.</span>
<a name="l00190"></a><a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1cd3644228ae5a0f0ec3862d91276470">00190</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1cd3644228ae5a0f0ec3862d91276470" title="Sets the last value in the FIFO.">SetLastValue</a>(<span class="keyword">const</span> T&amp; v) {
<a name="l00191"></a>00191     DCHECK(<a class="code" href="classoperations__research_1_1SimpleRevFIFO.html#1da6487f719f88938d702348446190e6" title="Returns the last item of the FIFO.">Last</a>());
<a name="l00192"></a>00192     chunks_-&gt;data_[pos_] = v;
<a name="l00193"></a>00193   }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195  <span class="keyword">private</span>:
<a name="l00196"></a>00196   Chunk *chunks_;
<a name="l00197"></a>00197   <span class="keywordtype">int</span> pos_;
<a name="l00198"></a>00198 };
<a name="l00199"></a>00199 <span class="comment">// @{</span>
<a name="l00200"></a>00200 <span class="comment">// These methods represent generic demons that will call back a</span>
<a name="l00201"></a>00201 <span class="comment">// method on the constraint during their Run method.</span>
<a name="l00202"></a>00202 <span class="comment">// This way, all propagation methods are members of the constraint class,</span>
<a name="l00203"></a>00203 <span class="comment">// and demons are just proxies with a priority of NORMAL_PRIORITY.</span>
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="comment">// Demon proxy to a method on the constraint with no arguments.</span>
<a name="l00206"></a><a class="code" href="classoperations__research_1_1CallMethod0.html">00206</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod0.html" title="Demon proxy to a method on the constraint with no arguments.">CallMethod0</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00207"></a>00207  <span class="keyword">public</span>:
<a name="l00208"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#2ff2a02eb49bf2fdd637eef770a67289">00208</a>   <a class="code" href="classoperations__research_1_1CallMethod0.html#2ff2a02eb49bf2fdd637eef770a67289">CallMethod0</a>(T* <span class="keyword">const</span> ct, <span class="keywordtype">void</span> (T::*method)(), <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>)
<a name="l00209"></a>00209       : constraint_(ct), method_(method), name_(name) {}
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#298ad21fb0246c26c0a3b9c903ee1476">00211</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#298ad21fb0246c26c0a3b9c903ee1476">~CallMethod0</a>() {}
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#8bb9fe5351ccf4279e1d56cc6846328a">00213</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#8bb9fe5351ccf4279e1d56cc6846328a" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00214"></a>00214     (constraint_-&gt;*method_)();
<a name="l00215"></a>00215   }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classoperations__research_1_1CallMethod0.html#e5d39f65c0b387daac05de80c40c78da">00217</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod0.html#e5d39f65c0b387daac05de80c40c78da">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00218"></a>00218     <span class="keywordflow">return</span> <span class="stringliteral">"CallMethod_"</span> + name_ + <span class="stringliteral">"("</span> + constraint_-&gt;DebugString() + <span class="stringliteral">")"</span>;
<a name="l00219"></a>00219   }
<a name="l00220"></a>00220 
<a name="l00221"></a>00221  <span class="keyword">private</span>:
<a name="l00222"></a>00222   T* <span class="keyword">const</span> constraint_;
<a name="l00223"></a>00223   void (T::* <span class="keyword">const</span> method_)();
<a name="l00224"></a>00224   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00225"></a>00225 };
<a name="l00226"></a>00226 
<a name="l00227"></a><a class="code" href="namespaceoperations__research.html#50b3d41d8dbf72bb2ad22235a9e1f53e">00227</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#50b3d41d8dbf72bb2ad22235a9e1f53e">MakeConstraintDemon0</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00228"></a>00228                                                T* <span class="keyword">const</span> ct,
<a name="l00229"></a>00229                                                <span class="keywordtype">void</span> (T::*method)(),
<a name="l00230"></a>00230                                                <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>) {
<a name="l00231"></a>00231   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod0.html" title="Demon proxy to a method on the constraint with no arguments.">CallMethod0&lt;T&gt;</a>(ct, method, name));
<a name="l00232"></a>00232 }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="comment">// Demon proxy to a method on the constraint with one argument.</span>
<a name="l00235"></a><a class="code" href="classoperations__research_1_1CallMethod1.html">00235</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod1.html" title="Demon proxy to a method on the constraint with one argument.">CallMethod1</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00236"></a>00236  <span class="keyword">public</span>:
<a name="l00237"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#b1d047192a93d680c89049fce9ee3deb">00237</a>   <a class="code" href="classoperations__research_1_1CallMethod1.html#b1d047192a93d680c89049fce9ee3deb">CallMethod1</a>(T* <span class="keyword">const</span> ct,
<a name="l00238"></a>00238               <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00239"></a>00239               <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00240"></a>00240               P param1)
<a name="l00241"></a>00241       : constraint_(ct),
<a name="l00242"></a>00242         method_(method),
<a name="l00243"></a>00243         name_(name),
<a name="l00244"></a>00244         param1_(param1) {}
<a name="l00245"></a>00245 
<a name="l00246"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#5c9f461024162679db563d776c12eca2">00246</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#5c9f461024162679db563d776c12eca2">~CallMethod1</a>() {}
<a name="l00247"></a>00247 
<a name="l00248"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#e32066db529918d4679826ef4e41524a">00248</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#e32066db529918d4679826ef4e41524a" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00249"></a>00249     (constraint_-&gt;*method_)(param1_);
<a name="l00250"></a>00250   }
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="classoperations__research_1_1CallMethod1.html#723a0a471db247c0ebad3a2429893465">00252</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod1.html#723a0a471db247c0ebad3a2429893465">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00253"></a>00253     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"CallMethod_"</span>, name_),
<a name="l00254"></a>00254                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString(), <span class="stringliteral">", "</span>),
<a name="l00255"></a>00255                   StrCat(param1_, <span class="stringliteral">")"</span>));
<a name="l00256"></a>00256   }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258  <span class="keyword">private</span>:
<a name="l00259"></a>00259   T* <span class="keyword">const</span> constraint_;
<a name="l00260"></a>00260   void (T::* <span class="keyword">const</span> method_)(P);
<a name="l00261"></a>00261   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00262"></a>00262   P param1_;
<a name="l00263"></a>00263 };
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt;
<a name="l00266"></a><a class="code" href="namespaceoperations__research.html#bc7cb18be5d9d418d32782253cd4bf5a">00266</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#bc7cb18be5d9d418d32782253cd4bf5a">MakeConstraintDemon1</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00267"></a>00267                             T* <span class="keyword">const</span> ct,
<a name="l00268"></a>00268                             <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00269"></a>00269                             <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00270"></a>00270                             P param1) {
<a name="l00271"></a>00271   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod1.html" title="Demon proxy to a method on the constraint with one argument.">CallMethod1&lt;T, P&gt;</a>(ct, method, name, param1));
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="comment">// Demon proxy to a method on the constraint with two arguments.</span>
<a name="l00275"></a><a class="code" href="classoperations__research_1_1CallMethod2.html">00275</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1CallMethod2.html" title="Demon proxy to a method on the constraint with two arguments.">CallMethod2</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00276"></a>00276  <span class="keyword">public</span>:
<a name="l00277"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#83f7fed30c303197dd91f208c2097782">00277</a>   <a class="code" href="classoperations__research_1_1CallMethod2.html#83f7fed30c303197dd91f208c2097782">CallMethod2</a>(T* <span class="keyword">const</span> ct,
<a name="l00278"></a>00278               <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00279"></a>00279               <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00280"></a>00280               P param1,
<a name="l00281"></a>00281               Q param2)
<a name="l00282"></a>00282       : constraint_(ct),
<a name="l00283"></a>00283         method_(method),
<a name="l00284"></a>00284         name_(name),
<a name="l00285"></a>00285         param1_(param1),
<a name="l00286"></a>00286         param2_(param2) {}
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#873cbc01937925af1c77803ab8776c68">00288</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#873cbc01937925af1c77803ab8776c68">~CallMethod2</a>() {}
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#3a08e2cd1dee3a1acff95eac01533b7c">00290</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#3a08e2cd1dee3a1acff95eac01533b7c" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00291"></a>00291     (constraint_-&gt;*method_)(param1_, param2_);
<a name="l00292"></a>00292   }
<a name="l00293"></a>00293 
<a name="l00294"></a><a class="code" href="classoperations__research_1_1CallMethod2.html#d79b89d1843346000c3f6fa65a2ac6e1">00294</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1CallMethod2.html#d79b89d1843346000c3f6fa65a2ac6e1">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00295"></a>00295     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"CallMethod_"</span>, name_),
<a name="l00296"></a>00296                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString()),
<a name="l00297"></a>00297                   StrCat(<span class="stringliteral">", "</span>, param1_),
<a name="l00298"></a>00298                   StrCat(<span class="stringliteral">", "</span>, param2_, <span class="stringliteral">")"</span>));
<a name="l00299"></a>00299   }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301  <span class="keyword">private</span>:
<a name="l00302"></a>00302   T* <span class="keyword">const</span> constraint_;
<a name="l00303"></a>00303   void (T::* <span class="keyword">const</span> method_)(P, Q);
<a name="l00304"></a>00304   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00305"></a>00305   P param1_;
<a name="l00306"></a>00306   Q param2_;
<a name="l00307"></a>00307 };
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt;
<a name="l00310"></a><a class="code" href="namespaceoperations__research.html#47fe3ccce1dc5fe8f97cce749af70814">00310</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#47fe3ccce1dc5fe8f97cce749af70814">MakeConstraintDemon2</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00311"></a>00311                             T* <span class="keyword">const</span> ct,
<a name="l00312"></a>00312                             <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00313"></a>00313                             <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00314"></a>00314                             P param1,
<a name="l00315"></a>00315                             Q param2) {
<a name="l00316"></a>00316   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1CallMethod2.html" title="Demon proxy to a method on the constraint with two arguments.">CallMethod2&lt;T, P, Q&gt;</a>(ct,
<a name="l00317"></a>00317                                               method,
<a name="l00318"></a>00318                                               name,
<a name="l00319"></a>00319                                               param1,
<a name="l00320"></a>00320                                               param2));
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 <span class="comment">// @}</span>
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <span class="comment">// @{</span>
<a name="l00325"></a>00325 <span class="comment">// These methods represents generic demons that will call back a</span>
<a name="l00326"></a>00326 <span class="comment">// method on the constraint during their Run method. This demon will</span>
<a name="l00327"></a>00327 <span class="comment">// have a priority DELAYED_PRIORITY.</span>
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="comment">// Low-priority demon proxy to a method on the constraint with no arguments.</span>
<a name="l00330"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html">00330</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html" title="Low-priority demon proxy to a method on the constraint with no arguments.">DelayedCallMethod0</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00331"></a>00331  <span class="keyword">public</span>:
<a name="l00332"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#0805434d4f37d6a493ae3d681ec805cf">00332</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#0805434d4f37d6a493ae3d681ec805cf">DelayedCallMethod0</a>(T* <span class="keyword">const</span> ct, <span class="keywordtype">void</span> (T::*method)(), <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>)
<a name="l00333"></a>00333       : constraint_(ct), method_(method), name_(name) {}
<a name="l00334"></a>00334 
<a name="l00335"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#1757840b905de1823b2d22c7652ab398">00335</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#1757840b905de1823b2d22c7652ab398">~DelayedCallMethod0</a>() {}
<a name="l00336"></a>00336 
<a name="l00337"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#99d898a9cd49adc119c75b46d7bb7a78">00337</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#99d898a9cd49adc119c75b46d7bb7a78" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00338"></a>00338     (constraint_-&gt;*method_)();
<a name="l00339"></a>00339   }
<a name="l00340"></a>00340 
<a name="l00341"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#368f94ffca3e63bc3cc0583d4cf53bdb">00341</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#368f94ffca3e63bc3cc0583d4cf53bdb" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00342"></a>00342     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370">Solver::DELAYED_PRIORITY</a>;
<a name="l00343"></a>00343   }
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#7b295d116055fa88244f57284c70de29">00345</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html#7b295d116055fa88244f57284c70de29">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00346"></a>00346     <span class="keywordflow">return</span> <span class="stringliteral">"DelayedCallMethod_"</span>
<a name="l00347"></a>00347         + name_ + <span class="stringliteral">"("</span> + constraint_-&gt;DebugString() + <span class="stringliteral">")"</span>;
<a name="l00348"></a>00348   }
<a name="l00349"></a>00349 
<a name="l00350"></a>00350  <span class="keyword">private</span>:
<a name="l00351"></a>00351   T* <span class="keyword">const</span> constraint_;
<a name="l00352"></a>00352   void (T::* <span class="keyword">const</span> method_)();
<a name="l00353"></a>00353   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00354"></a>00354 };
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="namespaceoperations__research.html#16f35a1c0ce076f2587fffbab80200b6">00356</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#16f35a1c0ce076f2587fffbab80200b6">MakeDelayedConstraintDemon0</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00357"></a>00357                                                       T* <span class="keyword">const</span> ct,
<a name="l00358"></a>00358                                                       <span class="keywordtype">void</span> (T::*method)(),
<a name="l00359"></a>00359                                                       <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>) {
<a name="l00360"></a>00360   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod0.html" title="Low-priority demon proxy to a method on the constraint with no arguments.">DelayedCallMethod0&lt;T&gt;</a>(ct, method, name));
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="comment">// Low-priority demon proxy to a method on the constraint with one argument.</span>
<a name="l00364"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html">00364</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html" title="Low-priority demon proxy to a method on the constraint with one argument.">DelayedCallMethod1</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00365"></a>00365  <span class="keyword">public</span>:
<a name="l00366"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#ca6503a150313be3c7f51ee30344eb41">00366</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#ca6503a150313be3c7f51ee30344eb41">DelayedCallMethod1</a>(T* <span class="keyword">const</span> ct,
<a name="l00367"></a>00367                      <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00368"></a>00368                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00369"></a>00369                      P param1)
<a name="l00370"></a>00370       : constraint_(ct),
<a name="l00371"></a>00371         method_(method),
<a name="l00372"></a>00372         name_(name),
<a name="l00373"></a>00373         param1_(param1) {}
<a name="l00374"></a>00374 
<a name="l00375"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#d477e4830ec7170e3c1540cd3d130bd3">00375</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#d477e4830ec7170e3c1540cd3d130bd3">~DelayedCallMethod1</a>() {}
<a name="l00376"></a>00376 
<a name="l00377"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#256fb6bf344f23781cad355ed3efc2c4">00377</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#256fb6bf344f23781cad355ed3efc2c4" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00378"></a>00378     (constraint_-&gt;*method_)(param1_);
<a name="l00379"></a>00379   }
<a name="l00380"></a>00380 
<a name="l00381"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#f9683d25e85b5b3b4696d7deb39d492f">00381</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#f9683d25e85b5b3b4696d7deb39d492f" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00382"></a>00382     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370">Solver::DELAYED_PRIORITY</a>;
<a name="l00383"></a>00383   }
<a name="l00384"></a>00384 
<a name="l00385"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#9b638064e2c2e502e632ec885ace5f30">00385</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html#9b638064e2c2e502e632ec885ace5f30">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00386"></a>00386     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"DelayedCallMethod_"</span>, name_),
<a name="l00387"></a>00387                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString(), <span class="stringliteral">", "</span>),
<a name="l00388"></a>00388                   StrCat(param1_, <span class="stringliteral">")"</span>));
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391  <span class="keyword">private</span>:
<a name="l00392"></a>00392   T* <span class="keyword">const</span> constraint_;
<a name="l00393"></a>00393   void (T::* <span class="keyword">const</span> method_)(P);
<a name="l00394"></a>00394   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00395"></a>00395   P param1_;
<a name="l00396"></a>00396 };
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P&gt;
<a name="l00399"></a><a class="code" href="namespaceoperations__research.html#869e6e925746cfabd4ed3a12bdb44cfb">00399</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#869e6e925746cfabd4ed3a12bdb44cfb">MakeDelayedConstraintDemon1</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00400"></a>00400                                    T* <span class="keyword">const</span> ct,
<a name="l00401"></a>00401                                    <span class="keywordtype">void</span> (T::*method)(P),
<a name="l00402"></a>00402                                    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00403"></a>00403                                    P param1) {
<a name="l00404"></a>00404   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod1.html" title="Low-priority demon proxy to a method on the constraint with one argument.">DelayedCallMethod1&lt;T, P&gt;</a>(ct, method, name, param1));
<a name="l00405"></a>00405 }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="comment">// Low-priority demon proxy to a method on the constraint with two arguments.</span>
<a name="l00408"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html">00408</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt; <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html" title="Low-priority demon proxy to a method on the constraint with two arguments.">DelayedCallMethod2</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a> {
<a name="l00409"></a>00409  <span class="keyword">public</span>:
<a name="l00410"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#81896cbb39b73e18e6cc18adce0c552c">00410</a>   <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#81896cbb39b73e18e6cc18adce0c552c">DelayedCallMethod2</a>(T* <span class="keyword">const</span> ct,
<a name="l00411"></a>00411                      <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00412"></a>00412                      <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00413"></a>00413                      P param1,
<a name="l00414"></a>00414                      Q param2)
<a name="l00415"></a>00415       : constraint_(ct),
<a name="l00416"></a>00416         method_(method),
<a name="l00417"></a>00417         name_(name),
<a name="l00418"></a>00418         param1_(param1),
<a name="l00419"></a>00419         param2_(param2) {}
<a name="l00420"></a>00420 
<a name="l00421"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#ce48f3cde9db24ae1114bffc94a2bb40">00421</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#ce48f3cde9db24ae1114bffc94a2bb40">~DelayedCallMethod2</a>() {}
<a name="l00422"></a>00422 
<a name="l00423"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#3253b1999d7c9f17e720cc4f8071300e">00423</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#3253b1999d7c9f17e720cc4f8071300e" title="This is the main callback of the demon.">Run</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s) {
<a name="l00424"></a>00424     (constraint_-&gt;*method_)(param1_, param2_);
<a name="l00425"></a>00425   }
<a name="l00426"></a>00426 
<a name="l00427"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#8dcc2537662160b69f3875b80f66476e">00427</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4">Solver::DemonPriority</a> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#8dcc2537662160b69f3875b80f66476e" title="This method returns the priority of the demon.">priority</a>()<span class="keyword"> const </span>{
<a name="l00428"></a>00428     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1Solver.html#4b0972c731faf884eba5acab99ebb2b4f8769149902a8a2b168069cb93cc6370">Solver::DELAYED_PRIORITY</a>;
<a name="l00429"></a>00429   }
<a name="l00430"></a>00430 
<a name="l00431"></a><a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#e7f0a4be71bcb74ed1fa6cfc95ea60ef">00431</a>   <span class="keyword">virtual</span> <span class="keywordtype">string</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html#e7f0a4be71bcb74ed1fa6cfc95ea60ef">DebugString</a>()<span class="keyword"> const </span>{
<a name="l00432"></a>00432     <span class="keywordflow">return</span> StrCat(StrCat(<span class="stringliteral">"DelayedCallMethod_"</span>, name_),
<a name="l00433"></a>00433                   StrCat(<span class="stringliteral">"("</span>, constraint_-&gt;DebugString()),
<a name="l00434"></a>00434                   StrCat(<span class="stringliteral">", "</span>, param1_),
<a name="l00435"></a>00435                   StrCat(<span class="stringliteral">", "</span>, param2_, <span class="stringliteral">")"</span>));
<a name="l00436"></a>00436   }
<a name="l00437"></a>00437 
<a name="l00438"></a>00438  <span class="keyword">private</span>:
<a name="l00439"></a>00439   T* <span class="keyword">const</span> constraint_;
<a name="l00440"></a>00440   void (T::* <span class="keyword">const</span> method_)(P, Q);
<a name="l00441"></a>00441   <span class="keyword">const</span> <span class="keywordtype">string</span> name_;
<a name="l00442"></a>00442   P param1_;
<a name="l00443"></a>00443   Q param2_;
<a name="l00444"></a>00444 };
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> P, <span class="keyword">class</span> Q&gt;
<a name="l00447"></a><a class="code" href="namespaceoperations__research.html#5970c2f94a662226b28e1ecab2ac83b7">00447</a> <a class="code" href="classoperations__research_1_1Demon.html" title="A Demon is the base element of a propagation queue.">Demon</a>* <a class="code" href="namespaceoperations__research.html#5970c2f94a662226b28e1ecab2ac83b7">MakeDelayedConstraintDemon2</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00448"></a>00448                                    T* <span class="keyword">const</span> ct,
<a name="l00449"></a>00449                                    <span class="keywordtype">void</span> (T::*method)(P, Q),
<a name="l00450"></a>00450                                    <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="default__search_8cc.html#1848ae81740c68c2502b2f176cfadcef" title="A name for logging purposes.">name</a>,
<a name="l00451"></a>00451                                    P param1,
<a name="l00452"></a>00452                                    Q param2) {
<a name="l00453"></a>00453   <span class="keywordflow">return</span> s-&gt;<a class="code" href="classoperations__research_1_1Solver.html#83ceb54f811483fd1c0444cddba8a600" title="The RevAlloc method stores the corresponding object in a stack.">RevAlloc</a>(<span class="keyword">new</span> <a class="code" href="classoperations__research_1_1DelayedCallMethod2.html" title="Low-priority demon proxy to a method on the constraint with two arguments.">DelayedCallMethod2&lt;T, P, Q&gt;</a>(ct,
<a name="l00454"></a>00454                                                      method,
<a name="l00455"></a>00455                                                      name,
<a name="l00456"></a>00456                                                      param1,
<a name="l00457"></a>00457                                                      param2));
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 <span class="comment">// @}</span>
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="preprocessor">#endif   // !defined(SWIG)</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span>
<a name="l00463"></a>00463 <span class="comment">// ---------- Local search operators ----------</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 <span class="comment">// The base class for all local search operators.</span>
<a name="l00466"></a>00466 <span class="comment">// A local search operator is an object which defines the neighborhood of a</span>
<a name="l00467"></a>00467 <span class="comment">// solution; in other words, a neighborhood is the set of solutions which can</span>
<a name="l00468"></a>00468 <span class="comment">// be reached from a given solution using an operator.</span>
<a name="l00469"></a>00469 <span class="comment">// The behavior of the LocalSearchOperator class is similar to the one of an</span>
<a name="l00470"></a>00470 <span class="comment">// iterator. The operator is synchronized with an assignment (gives the</span>
<a name="l00471"></a>00471 <span class="comment">// current values of the variables); this is done in the Start() method.</span>
<a name="l00472"></a>00472 <span class="comment">// Then one can iterate over the neighbors using the MakeNextNeighbor method.</span>
<a name="l00473"></a>00473 <span class="comment">// This method returns an assignment which represents the incremental changes</span>
<a name="l00474"></a>00474 <span class="comment">// to the curent solution. It also returns a second assignment representing the</span>
<a name="l00475"></a>00475 <span class="comment">// changes to the last solution defined by the neighborhood operator; this</span>
<a name="l00476"></a>00476 <span class="comment">// assignment is empty is the neighborhood operator cannot track this</span>
<a name="l00477"></a>00477 <span class="comment">// information.</span>
<a name="l00478"></a>00478 <span class="comment">// TODO(user): rename Start to Synchronize ?</span>
<a name="l00479"></a>00479 <span class="comment">// TODO(user): decouple the iterating from the defining of a neighbor.</span>
<a name="l00480"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html">00480</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1LocalSearchOperator.html" title="&amp;lt; !defined(SWIG)">LocalSearchOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l00481"></a>00481  <span class="keyword">public</span>:
<a name="l00482"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html#f23505cc80b48f7de0c2e6a8d8424c5e">00482</a>   <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#f23505cc80b48f7de0c2e6a8d8424c5e">LocalSearchOperator</a>() {}
<a name="l00483"></a><a class="code" href="classoperations__research_1_1LocalSearchOperator.html#505cf4a4020ebf8b2d2f67df3477adb4">00483</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#505cf4a4020ebf8b2d2f67df3477adb4">~LocalSearchOperator</a>() {}
<a name="l00484"></a>00484   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#2951ae57e5fd3fce7d4f9b831594b460">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) = 0;
<a name="l00485"></a>00485   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html#832fd07f7355d16895841a4735e544c1">Start</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment) = 0;
<a name="l00486"></a>00486 };
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 <span class="comment">// ----- Base operator class for operators manipulating IntVars -----</span>
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="comment">// Specialization of LocalSearchOperator built from an array of IntVars</span>
<a name="l00491"></a>00491 <span class="comment">// which specifies the scope of the operator.</span>
<a name="l00492"></a>00492 <span class="comment">// This class also takes care of storing current variable values in Start(),</span>
<a name="l00493"></a>00493 <span class="comment">// keeps track of changes done by the operator and builds the delta.</span>
<a name="l00494"></a>00494 <span class="comment">// The Deactivate() method can be used to perform Large Neighborhood Search.</span>
<a name="l00495"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html">00495</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1LocalSearchOperator.html" title="&amp;lt; !defined(SWIG)">LocalSearchOperator</a> {
<a name="l00496"></a>00496  <span class="keyword">public</span>:
<a name="l00497"></a>00497   <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#1981dffba9e0458f5bd4669a5f1c15e1" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a>();
<a name="l00498"></a>00498   <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#1981dffba9e0458f5bd4669a5f1c15e1" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00499"></a>00499   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d61ecedaa6bdfb4a34c01687ec7bb197">~IntVarLocalSearchOperator</a>();
<a name="l00500"></a>00500   <span class="comment">// This method should not be overridden. Override OnStart() instead which is</span>
<a name="l00501"></a>00501   <span class="comment">// called before exiting this method.</span>
<a name="l00502"></a>00502   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#86ada2075515afdcd7f8979f4a2ee55d" title="This method should not be overridden.">Start</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment);
<a name="l00503"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#3aadcb0db97dbb1f9bbdeb6b7027263d">00503</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#3aadcb0db97dbb1f9bbdeb6b7027263d">IsIncremental</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00504"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">00504</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">Size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> size_; }
<a name="l00505"></a>00505   <span class="comment">// Returns the value in the current assignment of the variable of given index.</span>
<a name="l00506"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73">00506</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l00507"></a>00507     DCHECK_LT(index, size_);
<a name="l00508"></a>00508     <span class="keywordflow">return</span> values_[index];
<a name="l00509"></a>00509   }
<a name="l00510"></a>00510   <span class="comment">// Returns the variable of given index.</span>
<a name="l00511"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d8d6076357a0fca565cbdc586006d513">00511</a>   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#d8d6076357a0fca565cbdc586006d513" title="Returns the variable of given index.">Var</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> vars_[index]; }
<a name="l00512"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8e2dfc7ab50a078f22dac560d91973d3">00512</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8e2dfc7ab50a078f22dac560d91973d3">SkipUnchanged</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514  <span class="keyword">protected</span>:
<a name="l00515"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">00515</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> old_values_[index]; }
<a name="l00516"></a>00516   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00517"></a>00517   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#8df2a236c7429fc3f5ef9801c8c553f7">Activated</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l00518"></a>00518   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#08206ce321501a2f2059a40f44f1d75d">Activate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00519"></a>00519   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#f08da496dbe37aceaacd1833b95a5c4f">Deactivate</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00520"></a>00520   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#57026a137a5e7edb907db52299150598">ApplyChanges</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) <span class="keyword">const</span>;
<a name="l00521"></a>00521   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#ea723d799bb0f6d39ee2f80c7c3eef44">RevertChanges</a>(<span class="keywordtype">bool</span> incremental);
<a name="l00522"></a>00522   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#373531e56b70f8487427129f2daeb5a5">AddVars</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00523"></a>00523 
<a name="l00524"></a>00524  <span class="keyword">private</span>:
<a name="l00525"></a>00525   <span class="comment">// Called by Start() after synchronizing the operator with the current</span>
<a name="l00526"></a>00526   <span class="comment">// assignment. Should be overridden instead of Start() to avoid calling</span>
<a name="l00527"></a>00527   <span class="comment">// IntVarLocalSearchOperator::Start explicitly.</span>
<a name="l00528"></a>00528   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart() {}
<a name="l00529"></a>00529   <span class="keywordtype">void</span> MarkChange(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531   scoped_array&lt;IntVar*&gt; vars_;
<a name="l00532"></a>00532   <span class="keywordtype">int</span> size_;
<a name="l00533"></a>00533   scoped_array&lt;int64&gt; values_;
<a name="l00534"></a>00534   scoped_array&lt;int64&gt; old_values_;
<a name="l00535"></a>00535   Bitmap activated_;
<a name="l00536"></a>00536   Bitmap was_activated_;
<a name="l00537"></a>00537   std::vector&lt;int64&gt; changes_;
<a name="l00538"></a>00538   Bitmap has_changed_;
<a name="l00539"></a>00539   Bitmap has_delta_changed_;
<a name="l00540"></a>00540   <span class="keywordtype">bool</span> cleared_;
<a name="l00541"></a>00541 };
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 <span class="comment">// ----- Base Large Neighborhood Search operator class ----</span>
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="comment">// This is the base class for building an LNS operator. An LNS fragment is a</span>
<a name="l00546"></a>00546 <span class="comment">// collection of variables which will be relaxed. Fragments are built with</span>
<a name="l00547"></a>00547 <span class="comment">// NextFragment(), which returns false if there are no more fragments to build.</span>
<a name="l00548"></a>00548 <span class="comment">// Optionally one can override InitFragments, which is called from</span>
<a name="l00549"></a>00549 <span class="comment">// LocalSearchOperator::Start to initialize fragment data.</span>
<a name="l00550"></a>00550 <span class="comment">//</span>
<a name="l00551"></a>00551 <span class="comment">// Here's a sample relaxing one variable at a time:</span>
<a name="l00552"></a>00552 <span class="comment">//</span>
<a name="l00553"></a>00553 <span class="comment">// class OneVarLNS : public BaseLNS {</span>
<a name="l00554"></a>00554 <span class="comment">//  public:</span>
<a name="l00555"></a>00555 <span class="comment">//   OneVarLNS(const IntVar* const* vars, int size)</span>
<a name="l00556"></a>00556 <span class="comment">//       : BaseLNS(vars, size), index_(0) {}</span>
<a name="l00557"></a>00557 <span class="comment">//   virtual ~OneVarLNS() {}</span>
<a name="l00558"></a>00558 <span class="comment">//   virtual void InitFragments() { index_ = 0; }</span>
<a name="l00559"></a>00559 <span class="comment">//   virtual bool NextFragment(std::vector&lt;int&gt;* fragment) {</span>
<a name="l00560"></a>00560 <span class="comment">//     const int size = Size();</span>
<a name="l00561"></a>00561 <span class="comment">//     if (index_ &lt; size) {</span>
<a name="l00562"></a>00562 <span class="comment">//       fragment-&gt;push_back(index_);</span>
<a name="l00563"></a>00563 <span class="comment">//       ++index_;</span>
<a name="l00564"></a>00564 <span class="comment">//       return true;</span>
<a name="l00565"></a>00565 <span class="comment">//     } else {</span>
<a name="l00566"></a>00566 <span class="comment">//       return false;</span>
<a name="l00567"></a>00567 <span class="comment">//     }</span>
<a name="l00568"></a>00568 <span class="comment">//   }</span>
<a name="l00569"></a>00569 <span class="comment">//</span>
<a name="l00570"></a>00570 <span class="comment">//  private:</span>
<a name="l00571"></a>00571 <span class="comment">//   int index_;</span>
<a name="l00572"></a>00572 <span class="comment">// };</span>
<a name="l00573"></a><a class="code" href="classoperations__research_1_1BaseLNS.html">00573</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1BaseLNS.html" title="Base Large Neighborhood Search operator class.">BaseLNS</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l00574"></a>00574  <span class="keyword">public</span>:
<a name="l00575"></a>00575   <a class="code" href="classoperations__research_1_1BaseLNS.html#409049a0484aeee559a67289f3da32b0" title="Base Large Neighborhood Search operator.">BaseLNS</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00576"></a>00576   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#af921cd22f2a7694678ca3d5bda27b15">~BaseLNS</a>();
<a name="l00577"></a>00577   <span class="comment">// This method should not be overridden (it calls NextFragment()).</span>
<a name="l00578"></a>00578   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#72072ba65bc6d55552adee7a88b6064a" title="This method should not be overridden (it calls NextFragment()).">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta);
<a name="l00579"></a>00579   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#deb75f1c9f12a6c790c49b5e24d62c9a">InitFragments</a>();
<a name="l00580"></a>00580   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1BaseLNS.html#f8e6e35082269308c20b507d33bc1309">NextFragment</a>(std::vector&lt;int&gt;* fragment) = 0;
<a name="l00581"></a>00581 
<a name="l00582"></a>00582  <span class="keyword">private</span>:
<a name="l00583"></a>00583   <span class="comment">// This method should not be overridden. Override InitFragments() instead.</span>
<a name="l00584"></a>00584   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l00585"></a>00585 };
<a name="l00586"></a>00586 
<a name="l00587"></a>00587 <span class="comment">// ----- ChangeValue Operators -----</span>
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 <span class="comment">// Defines operators which change the value of variables;</span>
<a name="l00590"></a>00590 <span class="comment">// each neighbor corresponds to *one* modified variable.</span>
<a name="l00591"></a>00591 <span class="comment">// Sub-classes have to define ModifyValue which determines what the new</span>
<a name="l00592"></a>00592 <span class="comment">// variable value is going to be (given the current value and the variable).</span>
<a name="l00593"></a><a class="code" href="classoperations__research_1_1ChangeValue.html">00593</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1ChangeValue.html" title="ChangeValue Operators.">ChangeValue</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l00594"></a>00594  <span class="keyword">public</span>:
<a name="l00595"></a>00595   <a class="code" href="classoperations__research_1_1ChangeValue.html#60debfc1502ef81a5c47163b5b2b3203" title="ChangeValue Operators.">ChangeValue</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00596"></a>00596   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1ChangeValue.html#79bca3fafc24fcb9f5b4ae2cb1c2025a">~ChangeValue</a>();
<a name="l00597"></a>00597   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1ChangeValue.html#2b87d6185b6d48b61f4ac3f2648ce0a1">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta);
<a name="l00598"></a>00598   <span class="keyword">virtual</span> int64 <a class="code" href="classoperations__research_1_1ChangeValue.html#71b2589b82650decb06c8563310f5d5f">ModifyValue</a>(int64 <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>) = 0;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600  <span class="keyword">private</span>:
<a name="l00601"></a>00601   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l00602"></a>00602 
<a name="l00603"></a>00603   <span class="keywordtype">int</span> index_;
<a name="l00604"></a>00604 };
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 <span class="comment">// ----- Path-based Operators -----</span>
<a name="l00607"></a>00607 
<a name="l00608"></a>00608 <span class="comment">// Base class of the local search operators dedicated to path modifications</span>
<a name="l00609"></a>00609 <span class="comment">// (a path is a set of nodes linked together by arcs).</span>
<a name="l00610"></a>00610 <span class="comment">// This family of neighborhoods supposes they are handling next variables</span>
<a name="l00611"></a>00611 <span class="comment">// representing the arcs (var[i] represents the node immediately after i on</span>
<a name="l00612"></a>00612 <span class="comment">// a path).</span>
<a name="l00613"></a>00613 <span class="comment">// Several services are provided:</span>
<a name="l00614"></a>00614 <span class="comment">// - arc manipulators (SetNext(), ReverseChain(), MoveChain())</span>
<a name="l00615"></a>00615 <span class="comment">// - path inspectors (Next(), IsPathEnd())</span>
<a name="l00616"></a>00616 <span class="comment">// - path iterators: operators need a given number of nodes to define a</span>
<a name="l00617"></a>00617 <span class="comment">//   neighbor; this class provides the iteration on a given number of (base)</span>
<a name="l00618"></a>00618 <span class="comment">//   nodes which can be used to define a neighbor (through the BaseNode method)</span>
<a name="l00619"></a>00619 <span class="comment">// Subclasses only need to override MakeNeighbor to create neighbors using</span>
<a name="l00620"></a>00620 <span class="comment">// the services above (no direct manipulation of assignments).</span>
<a name="l00621"></a><a class="code" href="classoperations__research_1_1PathOperator.html">00621</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1PathOperator.html" title="Path-based Operators.">PathOperator</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html" title="Base operator class for operators manipulating IntVars.">IntVarLocalSearchOperator</a> {
<a name="l00622"></a>00622  <span class="keyword">public</span>:
<a name="l00623"></a>00623   <a class="code" href="classoperations__research_1_1PathOperator.html#a1f760408851ccfbc70b4a12479aeb3d" title="namespace">PathOperator</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* next_vars,
<a name="l00624"></a>00624                <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* path_vars,
<a name="l00625"></a>00625                <span class="keywordtype">int</span> size,
<a name="l00626"></a>00626                <span class="keywordtype">int</span> number_of_base_nodes);
<a name="l00627"></a><a class="code" href="classoperations__research_1_1PathOperator.html#6ac539bb3bd2b373f0d3156ab9c069e3">00627</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1PathOperator.html#6ac539bb3bd2b373f0d3156ab9c069e3">~PathOperator</a>() {}
<a name="l00628"></a>00628   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#bf884d7efc40fbf9932b64623604c23a">MakeNeighbor</a>() = 0;
<a name="l00629"></a>00629   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#323625d14b477365d788b7a1e96bb51d">MakeNextNeighbor</a>(<a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>, <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631   <span class="comment">// TODO(user): Make the following methods protected.</span>
<a name="l00632"></a>00632   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#ecfa54a5dd5c8ee384330c9ce4111d44">SkipUnchanged</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) <span class="keyword">const</span>;
<a name="l00633"></a>00633 
<a name="l00634"></a>00634   <span class="comment">// Returns the index of the node after the node of index node_index in the</span>
<a name="l00635"></a>00635   <span class="comment">// current assignment.</span>
<a name="l00636"></a><a class="code" href="classoperations__research_1_1PathOperator.html#9cb02dcb6c4ee83e896b83af163f189c">00636</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#9cb02dcb6c4ee83e896b83af163f189c" title="Returns the index of the node after the node of index node_index in the current assignment...">Next</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l00637"></a>00637     DCHECK(!<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(node_index));
<a name="l00638"></a>00638     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(node_index);
<a name="l00639"></a>00639   }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641   <span class="comment">// Returns the index of the path to which the node of index node_index</span>
<a name="l00642"></a>00642   <span class="comment">// belongs in the current assignment.</span>
<a name="l00643"></a><a class="code" href="classoperations__research_1_1PathOperator.html#c64ad41b1d7e426e979276823e238907">00643</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#c64ad41b1d7e426e979276823e238907" title="Returns the index of the path to which the node of index node_index belongs in the...">Path</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l00644"></a>00644     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a> ? 0LL : <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#b9b49aa4a778263f2d60e70e39577e73" title="Returns the value in the current assignment of the variable of given index.">Value</a>(node_index + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l00645"></a>00645   }
<a name="l00646"></a>00646 
<a name="l00647"></a>00647   <span class="comment">// Number of next variables.</span>
<a name="l00648"></a><a class="code" href="classoperations__research_1_1PathOperator.html#6bc1ff9fabd4af036d81fecaca979e65">00648</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1PathOperator.html#6bc1ff9fabd4af036d81fecaca979e65" title="Number of next variables.">number_of_nexts</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>; }
<a name="l00649"></a>00649 
<a name="l00650"></a>00650  <span class="keyword">protected</span>:
<a name="l00651"></a>00651   <span class="comment">// Returns the index of the variable corresponding to the ith base node.</span>
<a name="l00652"></a><a class="code" href="classoperations__research_1_1PathOperator.html#b97a0e5234d4fe57f9d0b2c9ea1f9f75">00652</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#b97a0e5234d4fe57f9d0b2c9ea1f9f75" title="Returns the index of the variable corresponding to the ith base node.">BaseNode</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> base_nodes_[i]; }
<a name="l00653"></a><a class="code" href="classoperations__research_1_1PathOperator.html#0e9cdb820f97a13813de1aa657b54917">00653</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#0e9cdb820f97a13813de1aa657b54917">StartNode</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> path_starts_[base_paths_[i]]; }
<a name="l00654"></a>00654 
<a name="l00655"></a><a class="code" href="classoperations__research_1_1PathOperator.html#46b2f4edff03a628d654c2fb6531d696">00655</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#46b2f4edff03a628d654c2fb6531d696">OldNext</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l00656"></a>00656     DCHECK(!<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(node_index));
<a name="l00657"></a>00657     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(node_index);
<a name="l00658"></a>00658   }
<a name="l00659"></a>00659 
<a name="l00660"></a><a class="code" href="classoperations__research_1_1PathOperator.html#826526bdd70076309b1574d3e35ac43d">00660</a>   int64 <a class="code" href="classoperations__research_1_1PathOperator.html#826526bdd70076309b1574d3e35ac43d">OldPath</a>(int64 node_index)<span class="keyword"> const </span>{
<a name="l00661"></a>00661     <span class="keywordflow">return</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a> ? 0LL : <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#dcb0d248ee16199ea6dbfad900a1e0ec">OldValue</a>(node_index + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l00662"></a>00662   }
<a name="l00663"></a>00663 
<a name="l00664"></a>00664   <span class="comment">// Moves the chain starting after the node before_chain and ending at the node</span>
<a name="l00665"></a>00665   <span class="comment">// chain_end after the node destination</span>
<a name="l00666"></a>00666   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#a6d431b31dc1fce0520698179e165817" title="Moves the chain starting after the node before_chain and ending at the node chain_end...">MoveChain</a>(int64 before_chain, int64 chain_end, int64 destination);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668   <span class="comment">// Reverses the chain starting after before_chain and ending before</span>
<a name="l00669"></a>00669   <span class="comment">// after_chain</span>
<a name="l00670"></a>00670   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#d819515eabc14b84e8e31b574a59d2fb" title="Reverses the chain starting after before_chain and ending before after_chain.">ReverseChain</a>(int64 before_chain, int64 after_chain, int64* chain_last);
<a name="l00671"></a>00671 
<a name="l00672"></a>00672   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#cb067b917027c878de5284d3ee191528">MakeActive</a>(int64 <a class="code" href="dependency__graph_8cc.html#4eefd1c2b90c940bb972d6d038744cc3">node</a>, int64 destination);
<a name="l00673"></a>00673   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#12698134e7a71ccbe52c4ce36213f0f1">MakeChainInactive</a>(int64 before_chain, int64 chain_end);
<a name="l00674"></a>00674 
<a name="l00675"></a>00675   <span class="comment">// Sets the to to be the node after from</span>
<a name="l00676"></a><a class="code" href="classoperations__research_1_1PathOperator.html#2f05e5dce708fd86775e612d08ffc08e">00676</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PathOperator.html#2f05e5dce708fd86775e612d08ffc08e" title="Sets the to to be the node after from.">SetNext</a>(int64 from, int64 to, int64 path) {
<a name="l00677"></a>00677     DCHECK_LT(from, <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>);
<a name="l00678"></a>00678     <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(from, to);
<a name="l00679"></a>00679     <span class="keywordflow">if</span> (!<a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a>) {
<a name="l00680"></a>00680       DCHECK_LT(from + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>, <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#06049b26315b8312917df7d0981c66cd">Size</a>());
<a name="l00681"></a>00681       <a class="code" href="classoperations__research_1_1IntVarLocalSearchOperator.html#50588f7d283f450f9d78ecdabd402e95">SetValue</a>(from + <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>, path);
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683   }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685   <span class="comment">// Returns true if i is the last node on the path; defined by the fact that</span>
<a name="l00686"></a>00686   <span class="comment">// i outside the range of the variable array</span>
<a name="l00687"></a><a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb">00687</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(int64 i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> i &gt;= <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>; }
<a name="l00688"></a>00688 
<a name="l00689"></a>00689   <span class="comment">// Returns true if node is inactive</span>
<a name="l00690"></a><a class="code" href="classoperations__research_1_1PathOperator.html#196b60e34960f30c3ea7c8920bc5d77c">00690</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#196b60e34960f30c3ea7c8920bc5d77c" title="Returns true if node is inactive.">IsInactive</a>(int64 i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="classoperations__research_1_1PathOperator.html#e99342a248fb87bb26f11811017fadfb" title="Returns true if i is the last node on the path; defined by the fact that i outside...">IsPathEnd</a>(i) &amp;&amp; inactives_[i]; }
<a name="l00691"></a>00691 
<a name="l00692"></a>00692   <span class="comment">// Returns true if operator needs to restart its initial position at each</span>
<a name="l00693"></a>00693   <span class="comment">// call to Start()</span>
<a name="l00694"></a><a class="code" href="classoperations__research_1_1PathOperator.html#60c038d2bf104585d70b22fad1d64348">00694</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#60c038d2bf104585d70b22fad1d64348" title="Returns true if operator needs to restart its initial position at each call to Start()...">InitPosition</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00695"></a>00695   <span class="comment">// Reset the position of the operator to its position when Start() was last</span>
<a name="l00696"></a>00696   <span class="comment">// called; this can be used to let an operator iterate more than once over</span>
<a name="l00697"></a>00697   <span class="comment">// the paths.</span>
<a name="l00698"></a><a class="code" href="classoperations__research_1_1PathOperator.html#2a1cf2f93320e83de87b6c302f27e00d">00698</a>   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1PathOperator.html#2a1cf2f93320e83de87b6c302f27e00d" title="Reset the position of the operator to its position when Start() was last called;...">ResetPosition</a>() {
<a name="l00699"></a>00699     just_started_ = <span class="keyword">true</span>;
<a name="l00700"></a>00700   }
<a name="l00701"></a>00701 
<a name="l00702"></a><a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">00702</a>   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1PathOperator.html#e108cf2f383928202b506cba66e911ee">number_of_nexts_</a>;
<a name="l00703"></a><a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">00703</a>   <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1PathOperator.html#46728a21c28eaf507a20bba345d9df8f">ignore_path_vars_</a>;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705  <span class="keyword">private</span>:
<a name="l00706"></a>00706   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnStart();
<a name="l00707"></a>00707   <span class="comment">// Called by OnStart() after initializing node information. Should be</span>
<a name="l00708"></a>00708   <span class="comment">// overriden instead of OnStart() to avoid calling PathOperator::OnStart</span>
<a name="l00709"></a>00709   <span class="comment">// explicitly.</span>
<a name="l00710"></a>00710   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnNodeInitialization() {}
<a name="l00711"></a>00711 
<a name="l00712"></a>00712   <span class="keywordtype">bool</span> CheckEnds() <span class="keyword">const</span>;
<a name="l00713"></a>00713   <span class="keywordtype">bool</span> IncrementPosition();
<a name="l00714"></a>00714   <span class="keywordtype">void</span> InitializePathStarts();
<a name="l00715"></a>00715   <span class="keywordtype">void</span> InitializeInactives();
<a name="l00716"></a>00716   <span class="keywordtype">void</span> InitializeBaseNodes();
<a name="l00717"></a>00717   <span class="keywordtype">bool</span> CheckChainValidity(int64 chain_start,
<a name="l00718"></a>00718                           int64 chain_end,
<a name="l00719"></a>00719                           int64 exclude) <span class="keyword">const</span>;
<a name="l00720"></a>00720   <span class="keywordtype">void</span> Synchronize();
<a name="l00721"></a>00721 
<a name="l00722"></a>00722   std::vector&lt;int&gt; base_nodes_;
<a name="l00723"></a>00723   std::vector&lt;int&gt; end_nodes_;
<a name="l00724"></a>00724   std::vector&lt;int&gt; base_paths_;
<a name="l00725"></a>00725   std::vector&lt;int64&gt; path_starts_;
<a name="l00726"></a>00726   std::vector&lt;bool&gt; inactives_;
<a name="l00727"></a>00727   <span class="keywordtype">bool</span> just_started_;
<a name="l00728"></a>00728   <span class="keywordtype">bool</span> first_start_;
<a name="l00729"></a>00729 };
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 <span class="comment">// ----- Local Search Filters ------</span>
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 <span class="comment">// For fast neighbor pruning</span>
<a name="l00734"></a><a class="code" href="classoperations__research_1_1LocalSearchFilter.html">00734</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1LocalSearchFilter.html" title="Local Search Filters.">LocalSearchFilter</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l00735"></a>00735  <span class="keyword">public</span>:
<a name="l00736"></a>00736   <span class="comment">// Accepts a "delta" given the assignment with which the filter has been</span>
<a name="l00737"></a>00737   <span class="comment">// synchronized; the delta holds the variables which have been modified and</span>
<a name="l00738"></a>00738   <span class="comment">// their new value.</span>
<a name="l00739"></a>00739   <span class="comment">// Sample: supposing one wants to maintain a[0,1] + b[0,1] &lt;= 1,</span>
<a name="l00740"></a>00740   <span class="comment">// for the assignment (a,1), (b,0), the delta (b,1) will be rejected</span>
<a name="l00741"></a>00741   <span class="comment">// but the delta (a,0) will be accepted.</span>
<a name="l00742"></a>00742   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#50fa8e9ba16ba0dcd2f9748afeebdb98" title="Accepts a &amp;quot;delta&amp;quot; given the assignment with which the filter has been synchronized;...">Accept</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* <a class="code" href="resource_8cc.html#73461c37822b6ebb75b54ba1a9ffb442">delta</a>,
<a name="l00743"></a>00743                       <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* deltadelta) = 0;
<a name="l00744"></a>00744 
<a name="l00745"></a>00745   <span class="comment">// Synchronizes the filter with the current solution</span>
<a name="l00746"></a>00746   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#3917c647740cd170ffd44e9dd164daea" title="Synchronizes the filter with the current solution.">Synchronize</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment) = 0;
<a name="l00747"></a><a class="code" href="classoperations__research_1_1LocalSearchFilter.html#4b420fac36fbd326a81bb13a2962b2b6">00747</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html#4b420fac36fbd326a81bb13a2962b2b6">IsIncremental</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00748"></a>00748 };
<a name="l00749"></a>00749 
<a name="l00750"></a>00750 <span class="comment">// ----- IntVarLocalSearchFilter -----</span>
<a name="l00751"></a>00751 
<a name="l00752"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html">00752</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html" title="IntVarLocalSearchFilter.">IntVarLocalSearchFilter</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1LocalSearchFilter.html" title="Local Search Filters.">LocalSearchFilter</a> {
<a name="l00753"></a>00753  <span class="keyword">public</span>:
<a name="l00754"></a>00754   <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#af1e5c44d3d9f6b731f43da10d6426a3" title="IntVarLocalSearchFilter.">IntVarLocalSearchFilter</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00755"></a>00755   <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#e955420754d0a4c2d8ca8c4b687b44a9">~IntVarLocalSearchFilter</a>();
<a name="l00756"></a>00756   <span class="comment">// This method should not be overridden. Override OnSynchronize() instead</span>
<a name="l00757"></a>00757   <span class="comment">// which is called before exiting this method.</span>
<a name="l00758"></a>00758   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#d6193dcb2fc37f0ff372b9282c112963" title="This method should not be overridden.">Synchronize</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1Assignment.html" title="Assignment.">Assignment</a>* assignment);
<a name="l00759"></a>00759 
<a name="l00760"></a>00760  <span class="keyword">protected</span>:
<a name="l00761"></a>00761   <span class="comment">// Add variables to "track" to the filter.</span>
<a name="l00762"></a>00762   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#c3e448ecea08986763169e2a517108fb" title="Add variables to &amp;quot;track&amp;quot; to the filter.">AddVars</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span>* vars, <span class="keywordtype">int</span> size);
<a name="l00763"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#ef04544e0f3d9362ef73a027aa733553">00763</a>   <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#ef04544e0f3d9362ef73a027aa733553">FindIndex</a>(<span class="keyword">const</span> <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64* <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{
<a name="l00764"></a>00764     DCHECK(index != NULL);
<a name="l00765"></a>00765     <span class="keywordflow">return</span> FindCopy(var_to_index_, var, index);
<a name="l00766"></a>00766   }
<a name="l00767"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#9045a67d0d2cf4daa65b2a12cb8ed6e8">00767</a>   <span class="keywordtype">int</span> <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#9045a67d0d2cf4daa65b2a12cb8ed6e8">Size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> size_; }
<a name="l00768"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#521ec3db6e1d61bf5699dcb8193d4de4">00768</a>   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#521ec3db6e1d61bf5699dcb8193d4de4">Var</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> vars_[index]; }
<a name="l00769"></a><a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#f5bf4ae1c58402bd4443ee00f53492cc">00769</a>   int64 <a class="code" href="classoperations__research_1_1IntVarLocalSearchFilter.html#f5bf4ae1c58402bd4443ee00f53492cc">Value</a>(<span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> values_[index]; }
<a name="l00770"></a>00770 
<a name="l00771"></a>00771  <span class="keyword">private</span>:
<a name="l00772"></a>00772   <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnSynchronize() {}
<a name="l00773"></a>00773 
<a name="l00774"></a>00774   scoped_array&lt;IntVar*&gt; vars_;
<a name="l00775"></a>00775   scoped_array&lt;int64&gt; values_;
<a name="l00776"></a>00776   <span class="keywordtype">int</span> size_;
<a name="l00777"></a>00777   hash_map&lt;const IntVar*, int64&gt; var_to_index_;
<a name="l00778"></a>00778 };
<a name="l00779"></a>00779 
<a name="l00780"></a>00780 <span class="comment">// ---------- SymmetryBreaker ----------</span>
<a name="l00781"></a>00781 
<a name="l00782"></a>00782 <span class="keyword">class </span>SymmetryManager;
<a name="l00783"></a>00783 
<a name="l00784"></a>00784 <span class="comment">// A symmetry breaker is an object that will visit a decision and</span>
<a name="l00785"></a>00785 <span class="comment">// create the 'symmetrical' decision in return.</span>
<a name="l00786"></a>00786 <span class="comment">// Each symmetry breaker represents one class of symmetry.</span>
<a name="l00787"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html">00787</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymmetryBreaker.html" title="A symmetry breaker is an object that will visit a decision and create the &amp;#39;symmetrical&amp;#39;...">SymmetryBreaker</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1DecisionVisitor.html" title="A DecisionVisitor is used to inspect a decision.">DecisionVisitor</a> {
<a name="l00788"></a>00788  <span class="keyword">public</span>:
<a name="l00789"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#9a170caed81ab593c4078b94c0eb6f48">00789</a>   <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#9a170caed81ab593c4078b94c0eb6f48">SymmetryBreaker</a>() : symmetry_manager_(NULL), index_in_symmetry_manager_(-1) {}
<a name="l00790"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#f1fb567ef30ed5ec315e77f4cdca3679">00790</a>   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#f1fb567ef30ed5ec315e77f4cdca3679">~SymmetryBreaker</a>() {}
<a name="l00791"></a>00791 
<a name="l00792"></a>00792   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#d77fe19a9060d61fa5c218fc2b48cfe0" title="Symmetry Breaker.">AddIntegerVariableEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00793"></a>00793   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#1adf7a226f0e955569f07afbdc96b415">AddIntegerVariableGreaterOrEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00794"></a>00794                                                    int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00795"></a>00795   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#c6f27d524c9f0efd7b467d0e6db48478">AddIntegerVariableLessOrEqualValueClause</a>(<a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>, int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>);
<a name="l00796"></a>00796 
<a name="l00797"></a>00797  <span class="keyword">private</span>:
<a name="l00798"></a><a class="code" href="classoperations__research_1_1SymmetryBreaker.html#a126bb367514a24cbd6e0b2c48fda9ee">00798</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>;
<a name="l00799"></a>00799   <span class="keywordtype">void</span> set_symmetry_manager_and_index(<a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>* manager, <span class="keywordtype">int</span> <a class="code" href="pack_8cc.html#750b5d744c39a06bfb13e6eb010e35d0">index</a>) {
<a name="l00800"></a>00800     CHECK(symmetry_manager_ == NULL);
<a name="l00801"></a>00801     CHECK_EQ(-1, index_in_symmetry_manager_);
<a name="l00802"></a>00802     symmetry_manager_ = manager;
<a name="l00803"></a>00803     index_in_symmetry_manager_ = index;
<a name="l00804"></a>00804   }
<a name="l00805"></a>00805   <a class="code" href="classoperations__research_1_1SymmetryManager.html" title="Symmetry Breaking.">SymmetryManager</a>* symmetry_manager()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> symmetry_manager_; }
<a name="l00806"></a>00806   <span class="keywordtype">int</span> index_in_symmetry_manager()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index_in_symmetry_manager_; }
<a name="l00807"></a>00807 
<a name="l00808"></a>00808   <a class="code" href="classoperations__research_1_1SymmetryBreaker.html#a126bb367514a24cbd6e0b2c48fda9ee">SymmetryManager</a>* symmetry_manager_;
<a name="l00809"></a>00809   <span class="comment">// Index of the symmetry breaker when used inside the symmetry manager.</span>
<a name="l00810"></a>00810   <span class="keywordtype">int</span> index_in_symmetry_manager_;
<a name="l00811"></a>00811 };
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 <span class="comment">// ---------- Search Log ---------</span>
<a name="l00814"></a>00814 
<a name="l00815"></a>00815 <span class="comment">// The base class of all search logs that periodically outputs information when</span>
<a name="l00816"></a>00816 <span class="comment">// the search is runnning.</span>
<a name="l00817"></a><a class="code" href="classoperations__research_1_1SearchLog.html">00817</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1SearchLog.html" title="Search Log.">SearchLog</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1SearchMonitor.html" title="A search monitor is a simple set of callbacks to monitor all search events.">SearchMonitor</a> {
<a name="l00818"></a>00818  <span class="keyword">public</span>:
<a name="l00819"></a>00819   <a class="code" href="classoperations__research_1_1SearchLog.html#94e4a2330724834502684abaab896111" title="Search Log.">SearchLog</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> s,
<a name="l00820"></a>00820             <a class="code" href="classoperations__research_1_1OptimizeVar.html" title="This class encapsulate an objective.">OptimizeVar</a>* <span class="keyword">const</span> obj,
<a name="l00821"></a>00821             <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00822"></a>00822             ResultCallback&lt;string&gt;* display_callback,
<a name="l00823"></a>00823             <span class="keywordtype">int</span> period);
<a name="l00824"></a>00824   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1SearchLog.html#a02a1379b698858705cc39fe7de9f76d">~SearchLog</a>();
<a name="l00825"></a>00825   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#7abdb38d45920c769c1df70fdbfbbd4d" title="Beginning of the search.">EnterSearch</a>();
<a name="l00826"></a>00826   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#b22c02947c720ede439a2643b76be94f" title="End of the search.">ExitSearch</a>();
<a name="l00827"></a>00827   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classoperations__research_1_1SearchLog.html#760d401b905e1a6dad762a496ddf1a08" title="This method is called when a valid solution is found.">AtSolution</a>();
<a name="l00828"></a>00828   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#59cdb6933d5927975af3489fd3fa7e70" title="Just when the failure occurs.">BeginFail</a>();
<a name="l00829"></a>00829   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#82244b2e5f4f5faabb48ca2aba9e910f" title="When the search tree is finished.">NoMoreSolutions</a>();
<a name="l00830"></a>00830   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#27469087492badd68d1c493959fee2a2" title="Before applying the decision.">ApplyDecision</a>(<a class="code" href="classoperations__research_1_1Decision.html" title="A Decision represents a choice point in the search tree.">Decision</a>* <span class="keyword">const</span> decision);
<a name="l00831"></a>00831   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#10d970f41bee18dd42b9510ca422a07b" title="Before refuting the Decision.">RefuteDecision</a>(<a class="code" href="classoperations__research_1_1Decision.html" title="A Decision represents a choice point in the search tree.">Decision</a>* <span class="keyword">const</span> decision);
<a name="l00832"></a>00832   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#3552cd62545e80d0ca632ac31911d0d1">OutputDecision</a>();
<a name="l00833"></a>00833   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#fc544b08813308dcf1652885f7ad6dac">Maintain</a>();
<a name="l00834"></a>00834   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#18f4b4eaa43bd08d806a698fcd3d3e0c" title="Before the initial propagation.">BeginInitialPropagation</a>();
<a name="l00835"></a>00835   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#51ca06faa0bca3393b596fcca33e3656" title="After the initial propagation.">EndInitialPropagation</a>();
<a name="l00836"></a>00836 
<a name="l00837"></a>00837  <span class="keyword">protected</span>:
<a name="l00838"></a>00838   <span class="comment">/* Bottleneck function used for all UI related output. */</span>
<a name="l00839"></a>00839   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1SearchLog.html#e70fca486fff2316fb1ca1a3543c3e66" title="Bottleneck function used for all UI related output.">OutputLine</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; line);
<a name="l00840"></a>00840 
<a name="l00841"></a>00841  <span class="keyword">private</span>:
<a name="l00842"></a>00842   <span class="keyword">static</span> <span class="keywordtype">string</span> MemoryUsage();
<a name="l00843"></a>00843 
<a name="l00844"></a>00844   <span class="keyword">const</span> <span class="keywordtype">int</span> period_;
<a name="l00845"></a>00845   scoped_ptr&lt;WallTimer&gt; timer_;
<a name="l00846"></a>00846   <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var_;
<a name="l00847"></a>00847   <a class="code" href="classoperations__research_1_1OptimizeVar.html" title="This class encapsulate an objective.">OptimizeVar</a>* <span class="keyword">const</span> obj_;
<a name="l00848"></a>00848   scoped_ptr&lt;ResultCallback&lt;string&gt; &gt; display_callback_;
<a name="l00849"></a>00849   <span class="keywordtype">int</span> nsol_;
<a name="l00850"></a>00850   int64 tick_;
<a name="l00851"></a>00851   int64 objective_min_;
<a name="l00852"></a>00852   int64 objective_max_;
<a name="l00853"></a>00853   <span class="keywordtype">int</span> min_right_depth_;
<a name="l00854"></a>00854   <span class="keywordtype">int</span> max_depth_;
<a name="l00855"></a>00855   <span class="keywordtype">int</span> sliding_min_depth_;
<a name="l00856"></a>00856   <span class="keywordtype">int</span> sliding_max_depth_;
<a name="l00857"></a>00857 };
<a name="l00858"></a>00858 
<a name="l00859"></a>00859 <span class="comment">// Implements a complete cache for model elements: expressions and</span>
<a name="l00860"></a>00860 <span class="comment">// constraints.  Caching is based on the signatures of the elements, as</span>
<a name="l00861"></a>00861 <span class="comment">// well as their types.  This class is used internally to avoid creating</span>
<a name="l00862"></a>00862 <span class="comment">// duplicate objects.</span>
<a name="l00863"></a><a class="code" href="classoperations__research_1_1ModelCache.html">00863</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1ModelCache.html" title="Implements a complete cache for model elements: expressions and constraints.">ModelCache</a> {
<a name="l00864"></a>00864  <span class="keyword">public</span>:
<a name="l00865"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">00865</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> {
<a name="l00866"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553edb6a8e793cd360bdac363c2cc28eff3c">00866</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553edb6a8e793cd360bdac363c2cc28eff3c">VOID_FALSE_CONSTRAINT</a> = 0,
<a name="l00867"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e82427a99c279490b35177f9a537031d4">00867</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e82427a99c279490b35177f9a537031d4">VOID_TRUE_CONSTRAINT</a>,
<a name="l00868"></a><a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553ece922fdfd68186ce433188283e779260">00868</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553ece922fdfd68186ce433188283e779260">VOID_CONSTRAINT_MAX</a>,
<a name="l00869"></a>00869   };
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">00871</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> {
<a name="l00872"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436070768a658f3ff974ca3928ba74ead31">00872</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436070768a658f3ff974ca3928ba74ead31">VAR_CONSTANT_EQUALITY</a> = 0,
<a name="l00873"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74361325f8dfb1c122fad75157edf76fdd1e">00873</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74361325f8dfb1c122fad75157edf76fdd1e">VAR_CONSTANT_GREATER_OR_EQUAL</a>,
<a name="l00874"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436f1e19fb208252121d68b5a06f1c8dde7">00874</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436f1e19fb208252121d68b5a06f1c8dde7">VAR_CONSTANT_LESS_OR_EQUAL</a>,
<a name="l00875"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74362f285cddde6149d7f54bf5ceb42a1507">00875</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74362f285cddde6149d7f54bf5ceb42a1507">VAR_CONSTANT_NON_EQUALITY</a>,
<a name="l00876"></a><a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74366a27c16438750d35626d77e0b2588308">00876</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b74366a27c16438750d35626d77e0b2588308">VAR_CONSTANT_CONSTRAINT_MAX</a>,
<a name="l00877"></a>00877   };
<a name="l00878"></a>00878 
<a name="l00879"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">00879</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> {
<a name="l00880"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d458f03b508da54bc2d68f497c4c9d95426">00880</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d458f03b508da54bc2d68f497c4c9d95426">VAR_CONSTANT_CONSTANT_BETWEEN</a> = 0,
<a name="l00881"></a><a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d456c0061e4b925cf5a3de722fc1b91be9d">00881</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d456c0061e4b925cf5a3de722fc1b91be9d">VAR_CONSTANT_CONSTANT_CONSTRAINT_MAX</a>,
<a name="l00882"></a>00882   };
<a name="l00883"></a>00883 
<a name="l00884"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">00884</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> {
<a name="l00885"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abbbd5d2c467f5c33487a377016ae1c437">00885</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abbbd5d2c467f5c33487a377016ae1c437">VAR_VAR_EQUALITY</a> = 0,
<a name="l00886"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab2c11dfdb05d1d4015288427f8e9cd544">00886</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab2c11dfdb05d1d4015288427f8e9cd544">VAR_VAR_GREATER</a>,
<a name="l00887"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab9feabe1ef5a8add9ea2e26d35be5cdbf">00887</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab9feabe1ef5a8add9ea2e26d35be5cdbf">VAR_VAR_GREATER_OR_EQUAL</a>,
<a name="l00888"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab33139a678f00ad79cd1ae193f115d91a">00888</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab33139a678f00ad79cd1ae193f115d91a">VAR_VAR_LESS</a>,
<a name="l00889"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab6660953021bdd8bdc3eef1611cb57b3c">00889</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab6660953021bdd8bdc3eef1611cb57b3c">VAR_VAR_LESS_OR_EQUAL</a>,
<a name="l00890"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abb87977f6e7965ba04954e6204d0f914a">00890</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5abb87977f6e7965ba04954e6204d0f914a">VAR_VAR_NON_EQUALITY</a>,
<a name="l00891"></a><a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab08090fa36e57ed6440091286184444eb">00891</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab08090fa36e57ed6440091286184444eb">VAR_VAR_CONSTRAINT_MAX</a>,
<a name="l00892"></a>00892   };
<a name="l00893"></a>00893 
<a name="l00894"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">00894</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> {
<a name="l00895"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a82b4b43d0f2f86a26bce22ab119b30aca">00895</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a82b4b43d0f2f86a26bce22ab119b30aca">VAR_OPPOSITE</a> = 0,
<a name="l00896"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a81f8f35c0f09f4b231fd98db4ee909396">00896</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a81f8f35c0f09f4b231fd98db4ee909396">VAR_ABS</a>,
<a name="l00897"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8524d9ada16d4e832289f8ee4375122a4">00897</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8524d9ada16d4e832289f8ee4375122a4">VAR_SQUARE</a>,
<a name="l00898"></a><a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8b90caa19f8458fefd875972e38c51b86">00898</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8b90caa19f8458fefd875972e38c51b86">VAR_EXPRESSION_MAX</a>,
<a name="l00899"></a>00899   };
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">00901</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> {
<a name="l00902"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff430510cb77888d7f78a0efb454abea50">00902</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff430510cb77888d7f78a0efb454abea50">VAR_CONSTANT_DIFFERENCE</a> = 0,
<a name="l00903"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc1395383275fd3e780dd0f41dfad11ec">00903</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc1395383275fd3e780dd0f41dfad11ec">VAR_CONSTANT_DIVIDE</a>,
<a name="l00904"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff50ccfa84c8915eac292b3a713a0392cd">00904</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff50ccfa84c8915eac292b3a713a0392cd">VAR_CONSTANT_PROD</a>,
<a name="l00905"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc7ba26c20cda7e41b6744d8d7d3f520e">00905</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ffc7ba26c20cda7e41b6744d8d7d3f520e">VAR_CONSTANT_MAX</a>,
<a name="l00906"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff4fe0263c841810027db27e5c548933db">00906</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff4fe0263c841810027db27e5c548933db">VAR_CONSTANT_MIN</a>,
<a name="l00907"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff35bc90912cc59b79a041a41639df501e">00907</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff35bc90912cc59b79a041a41639df501e">VAR_CONSTANT_SUM</a>,
<a name="l00908"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff1e63522719aae7a407d9b857573440ae">00908</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff1e63522719aae7a407d9b857573440ae">VAR_CONSTANT_IS_EQUAL</a>,
<a name="l00909"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982fff84c314a72e192b411314487a73e2c02">00909</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982fff84c314a72e192b411314487a73e2c02">VAR_CONSTANT_IS_NOT_EQUAL</a>,
<a name="l00910"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff61963e5750199b8642f3993cee3d89a5">00910</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff61963e5750199b8642f3993cee3d89a5">VAR_CONSTANT_IS_GREATER_OR_EQUAL</a>,
<a name="l00911"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff90f05fc4423b76081ec0c1fcbd02b33e">00911</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff90f05fc4423b76081ec0c1fcbd02b33e">VAR_CONSTANT_IS_LESS_OR_EQUAL</a>,
<a name="l00912"></a><a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff86be6ff013ba8bf00840651a39c40b2b">00912</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff86be6ff013ba8bf00840651a39c40b2b">VAR_CONSTANT_EXPRESSION_MAX</a>,
<a name="l00913"></a>00913   };
<a name="l00914"></a>00914 
<a name="l00915"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">00915</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> {
<a name="l00916"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd8f48c635e1025d12b8221f4d79f6c083">00916</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd8f48c635e1025d12b8221f4d79f6c083">VAR_VAR_DIFFERENCE</a> = 0,
<a name="l00917"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde98c0d0a353d31513352d1c9f022f810">00917</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dde98c0d0a353d31513352d1c9f022f810">VAR_VAR_PROD</a>,
<a name="l00918"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddbd45acdaeb330d614365bedbffc76a04">00918</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97ddbd45acdaeb330d614365bedbffc76a04">VAR_VAR_MAX</a>,
<a name="l00919"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd4797ec42f7354441eab188771b93d07b">00919</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd4797ec42f7354441eab188771b93d07b">VAR_VAR_MIN</a>,
<a name="l00920"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda2b94dba6f903c4e0bb2310650c1f11b">00920</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda2b94dba6f903c4e0bb2310650c1f11b">VAR_VAR_SUM</a>,
<a name="l00921"></a><a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda924aec06a9fbbd1a3bcc64e7b90832c">00921</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dda924aec06a9fbbd1a3bcc64e7b90832c">VAR_VAR_EXPRESSION_MAX</a>,
<a name="l00922"></a>00922   };
<a name="l00923"></a>00923 
<a name="l00924"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">00924</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> {
<a name="l00925"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80edced5a0895a2cb90a4594fb36fe61849">00925</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80edced5a0895a2cb90a4594fb36fe61849">VAR_CONSTANT_CONSTANT_SEMI_CONTINUOUS</a> = 0,
<a name="l00926"></a><a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80ea75358eb802072d41de32a9e809045ea">00926</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80ea75358eb802072d41de32a9e809045ea">VAR_CONSTANT_CONSTANT_EXPRESSION_MAX</a>,
<a name="l00927"></a>00927   };
<a name="l00928"></a>00928 
<a name="l00929"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">00929</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> {
<a name="l00930"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cbd208c87e11c0e31e89b56d46820a3854">00930</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cbd208c87e11c0e31e89b56d46820a3854">VAR_CONSTANT_ARRAY_ELEMENT</a> = 0,
<a name="l00931"></a><a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb07c534a9ebc42ee4cc89310f68a508dc">00931</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb07c534a9ebc42ee4cc89310f68a508dc">VAR_CONSTANT_ARRAY_EXPRESSION_MAX</a>,
<a name="l00932"></a>00932   };
<a name="l00933"></a>00933 
<a name="l00934"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">00934</a>   <span class="keyword">enum</span> <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> {
<a name="l00935"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d72be218b7d632156bc7d6925b98f2824">00935</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d72be218b7d632156bc7d6925b98f2824">VAR_ARRAY_MAX</a> = 0,
<a name="l00936"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d3e0c4c80f4eeb88925a067061ec8fb4f">00936</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d3e0c4c80f4eeb88925a067061ec8fb4f">VAR_ARRAY_MIN</a>,
<a name="l00937"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d670852bc71348c6af0d026914ad8f925">00937</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d670852bc71348c6af0d026914ad8f925">VAR_ARRAY_SUM</a>,
<a name="l00938"></a><a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185df8fe9d386f02fb2d2f9137c6ab4d983c">00938</a>     <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185df8fe9d386f02fb2d2f9137c6ab4d983c">VAR_ARRAY_EXPRESSION_MAX</a>,
<a name="l00939"></a>00939   };
<a name="l00940"></a>00940 
<a name="l00941"></a>00941   <span class="keyword">explicit</span> <a class="code" href="classoperations__research_1_1ModelCache.html#4399a6572d2936dc302589591be6dd9f" title="ModelCache.">ModelCache</a>(<a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> <a class="code" href="classoperations__research_1_1ModelCache.html#3e4c160bcf763a41f359023b9d3991d2">solver</a>);
<a name="l00942"></a>00942   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1ModelCache.html#3bd15b35fdce40551a8dce63ae8c0588">~ModelCache</a>();
<a name="l00943"></a>00943 
<a name="l00944"></a>00944   <span class="comment">// Void constraints.</span>
<a name="l00945"></a>00945 
<a name="l00946"></a>00946   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#2916776e5f69abac8f9637c3532d25f3" title="Void constraints.">FindVoidConstraint</a>(<a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l00947"></a>00947 
<a name="l00948"></a>00948   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#d00d773f68ef4113560d76233ddbdb67">InsertVoidConstraint</a>(<a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l00949"></a>00949                                     <a class="code" href="classoperations__research_1_1ModelCache.html#0a1063da2274711663b4fabdd552553e">VoidConstraintType</a> type) = 0;
<a name="l00950"></a>00950 
<a name="l00951"></a>00951   <span class="comment">// Var Constant Constraints.</span>
<a name="l00952"></a>00952   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#47726b101345465f4a5909bee5bbda5d" title="Var Constant Constraints.">FindVarConstantConstraint</a>(
<a name="l00953"></a>00953       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00954"></a>00954       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l00955"></a>00955       <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l00956"></a>00956 
<a name="l00957"></a>00957   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6add626f74107d891672762f2813da2a">InsertVarConstantConstraint</a>(
<a name="l00958"></a>00958       <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l00959"></a>00959       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00960"></a>00960       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l00961"></a>00961       <a class="code" href="classoperations__research_1_1ModelCache.html#3ee5925e5b7f8d35a24c9586784b7436">VarConstantConstraintType</a> type) = 0;
<a name="l00962"></a>00962 
<a name="l00963"></a>00963   <span class="comment">// Var Constant Constant Constraints.</span>
<a name="l00964"></a>00964 
<a name="l00965"></a>00965   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#59c55441490d9bf17651f638c7b00e94" title="Var Constant Constant Constraints.">FindVarConstantConstantConstraint</a>(
<a name="l00966"></a>00966       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00967"></a>00967       int64 value1,
<a name="l00968"></a>00968       int64 value2,
<a name="l00969"></a>00969       <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l00970"></a>00970 
<a name="l00971"></a>00971   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#be73e77151aa268e2cc89d0ca2ba35c8">InsertVarConstantConstantConstraint</a>(
<a name="l00972"></a>00972       <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l00973"></a>00973       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00974"></a>00974       int64 value1,
<a name="l00975"></a>00975       int64 value2,
<a name="l00976"></a>00976       <a class="code" href="classoperations__research_1_1ModelCache.html#edb48d5de6af18fc63065f7024356d45">VarConstantConstantConstraintType</a> type) = 0;
<a name="l00977"></a>00977 
<a name="l00978"></a>00978   <span class="comment">// Var Var Constraints.</span>
<a name="l00979"></a>00979 
<a name="l00980"></a>00980   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#b1b948acbbae0c52e8e28e4094a70c80" title="Var Var Constraints.">FindVarVarConstraint</a>(
<a name="l00981"></a>00981       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l00982"></a>00982       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l00983"></a>00983       <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> type) <span class="keyword">const</span> = 0;
<a name="l00984"></a>00984 
<a name="l00985"></a>00985   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#be60c769206df403149f5af5d5ba4370">InsertVarVarConstraint</a>(<a class="code" href="classoperations__research_1_1Constraint.html" title="A constraint is the main modeling object.">Constraint</a>* <span class="keyword">const</span> ct,
<a name="l00986"></a>00986                                       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l00987"></a>00987                                       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l00988"></a>00988                                       <a class="code" href="classoperations__research_1_1ModelCache.html#050e1516ffcf78d5a11b481da687f5ab">VarVarConstraintType</a> type) = 0;
<a name="l00989"></a>00989 
<a name="l00990"></a>00990   <span class="comment">// Var Expressions.</span>
<a name="l00991"></a>00991 
<a name="l00992"></a>00992   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#0c10eac377181b7d517dc0fac7c57cc7" title="Var Expressions.">FindVarExpression</a>(
<a name="l00993"></a>00993       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00994"></a>00994       <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l00995"></a>00995 
<a name="l00996"></a>00996   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#8a25a91474f1876bcbdd1a45af2a3683">InsertVarExpression</a>(<a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l00997"></a>00997                                    <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l00998"></a>00998                                    <a class="code" href="classoperations__research_1_1ModelCache.html#8d6e8314b5804ab7567672b332bf33a8">VarExpressionType</a> type) = 0;
<a name="l00999"></a>00999 
<a name="l01000"></a>01000   <span class="comment">// Var Constant Expressions .</span>
<a name="l01001"></a>01001 
<a name="l01002"></a>01002   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#01e36f57f70faaff1b0fb9a7b5bde622" title="Var Constant Expressions .">FindVarConstantExpression</a>(
<a name="l01003"></a>01003       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01004"></a>01004       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01005"></a>01005       <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01006"></a>01006 
<a name="l01007"></a>01007   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#5b802639b24c34d3ff2523187e3e9912">InsertVarConstantExpression</a>(
<a name="l01008"></a>01008       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01009"></a>01009       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01010"></a>01010       int64 <a class="code" href="search_8cc.html#21edc7ca4cc5802c8779d68556bc09cf">value</a>,
<a name="l01011"></a>01011       <a class="code" href="classoperations__research_1_1ModelCache.html#5afee96b439b7ff418b4b90aedd982ff">VarConstantExpressionType</a> type) = 0;
<a name="l01012"></a>01012 
<a name="l01013"></a>01013   <span class="comment">// Var Var Expressions.</span>
<a name="l01014"></a>01014 
<a name="l01015"></a>01015   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#e1631da93c366b6ac60b258e09e8bb5b" title="Var Var Expressions.">FindVarVarExpression</a>(
<a name="l01016"></a>01016       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01017"></a>01017       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01018"></a>01018       <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01019"></a>01019 
<a name="l01020"></a>01020   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#1afe614950159563d8ff75d289c83bcf">InsertVarVarExpression</a>(
<a name="l01021"></a>01021       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01022"></a>01022       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var1,
<a name="l01023"></a>01023       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> var2,
<a name="l01024"></a>01024       <a class="code" href="classoperations__research_1_1ModelCache.html#83ba2653a02e2d8b7242bbee267b97dd">VarVarExpressionType</a> type) = 0;
<a name="l01025"></a>01025 
<a name="l01026"></a>01026   <span class="comment">// Var Constant Constant Expressions.</span>
<a name="l01027"></a>01027 
<a name="l01028"></a>01028   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#4b4250955e796f1941a60543a2ba346b" title="Var Constant Constant Expressions.">FindVarConstantConstantExpression</a>(
<a name="l01029"></a>01029       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01030"></a>01030       int64 value1,
<a name="l01031"></a>01031       int64 value2,
<a name="l01032"></a>01032       <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01033"></a>01033 
<a name="l01034"></a>01034   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#6cea309d14ae33d647d738770da53ebe">InsertVarConstantConstantExpression</a>(
<a name="l01035"></a>01035       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01036"></a>01036       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01037"></a>01037       int64 value1,
<a name="l01038"></a>01038       int64 value2,
<a name="l01039"></a>01039       <a class="code" href="classoperations__research_1_1ModelCache.html#6a17dda7bae65e0e00a13db20c40a80e">VarConstantConstantExpressionType</a> type) = 0;
<a name="l01040"></a>01040 
<a name="l01041"></a>01041   <span class="comment">// Var Constant Array Expressions.</span>
<a name="l01042"></a>01042 
<a name="l01043"></a>01043   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#f19ecc4d91ad533e10287eee01102b4e" title="Var Constant Array Expressions.">FindVarConstantArrayExpression</a>(
<a name="l01044"></a>01044       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01045"></a>01045       ConstIntArray* <span class="keyword">const</span> values,
<a name="l01046"></a>01046       <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01047"></a>01047 
<a name="l01048"></a>01048   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#551ac352fee7aab5d349934344744755">InsertVarConstantArrayExpression</a>(
<a name="l01049"></a>01049       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01050"></a>01050       <a class="code" href="classoperations__research_1_1IntVar.html" title="The class IntVar is a subset of IntExpr.">IntVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>,
<a name="l01051"></a>01051       ConstIntArray* <span class="keyword">const</span> values,
<a name="l01052"></a>01052       <a class="code" href="classoperations__research_1_1ModelCache.html#477f02e25c227dc746912bc19d1156cb">VarConstantArrayExpressionType</a> type) = 0;
<a name="l01053"></a>01053 
<a name="l01054"></a>01054   <span class="comment">// Var Array Expressions.</span>
<a name="l01055"></a>01055 
<a name="l01056"></a>01056   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#1d0729399bfad7a2c16294b6a59a8ef5" title="Var Array Expressions.">FindVarArrayExpression</a>(
<a name="l01057"></a>01057       ConstPtrArray&lt;IntVar&gt;* <span class="keyword">const</span> vars,
<a name="l01058"></a>01058       <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> type) <span class="keyword">const</span> = 0;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1ModelCache.html#b692416e88de228753177e99a6a37d8c">InsertVarArrayExpression</a>(
<a name="l01061"></a>01061       <a class="code" href="classoperations__research_1_1IntExpr.html" title="The class IntExpr is the base of all integer expressions in constraint programming...">IntExpr</a>* <span class="keyword">const</span> expression,
<a name="l01062"></a>01062       ConstPtrArray&lt;IntVar&gt;* <span class="keyword">const</span> vars,
<a name="l01063"></a>01063       <a class="code" href="classoperations__research_1_1ModelCache.html#b4833fcc71b2e79ee4de980b6d70185d">VarArrayExpressionType</a> type) = 0;
<a name="l01064"></a>01064 
<a name="l01065"></a>01065   <a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <a class="code" href="classoperations__research_1_1ModelCache.html#3e4c160bcf763a41f359023b9d3991d2">solver</a>() <span class="keyword">const</span>;
<a name="l01066"></a>01066 
<a name="l01067"></a>01067  <span class="keyword">private</span>:
<a name="l01068"></a>01068   <a class="code" href="classoperations__research_1_1Solver.html" title="Solver Class.">Solver</a>* <span class="keyword">const</span> solver_;
<a name="l01069"></a>01069 };
<a name="l01070"></a>01070 
<a name="l01071"></a>01071 <span class="preprocessor">#if !defined(SWIG)</span>
<a name="l01072"></a>01072 <span class="preprocessor"></span><span class="comment">// Implements a data structure useful for scheduling.</span>
<a name="l01073"></a>01073 <span class="comment">// It is meant to store simple temporal constraints and to propagate</span>
<a name="l01074"></a>01074 <span class="comment">// efficiently on the nodes of this temporal graph.</span>
<a name="l01075"></a>01075 <span class="keyword">class </span>DependencyGraphNode;
<a name="l01076"></a><a class="code" href="classoperations__research_1_1DependencyGraph.html">01076</a> <span class="keyword">class </span><a class="code" href="classoperations__research_1_1DependencyGraph.html">DependencyGraph</a> : <span class="keyword">public</span> <a class="code" href="classoperations__research_1_1BaseObject.html" title="Useful Search and Modeling Objects.">BaseObject</a> {
<a name="l01077"></a>01077  <span class="keyword">public</span>:
<a name="l01078"></a>01078   <span class="keyword">virtual</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#b96d6d540f19f07c52b6a5d835861761" title="Dependency Graph internal API.">~DependencyGraph</a>();
<a name="l01079"></a>01079 
<a name="l01080"></a>01080   <span class="comment">// start(left) &gt;= end(right) + delay.</span>
<a name="l01081"></a>01081   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#d2144986414fe99309392406f2cf28b0" title="start(left) &amp;gt;= end(right) + delay.">AddStartsAfterEndWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01082"></a>01082                                   <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01083"></a>01083                                   int64 delay);
<a name="l01084"></a>01084 
<a name="l01085"></a>01085   <span class="comment">// start(left) == end(right) + delay.</span>
<a name="l01086"></a>01086   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#c0322699d807a2032cbe1e00b6aef791" title="start(left) == end(right) + delay.">AddStartsAtEndWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01087"></a>01087                                <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01088"></a>01088                                int64 delay);
<a name="l01089"></a>01089 
<a name="l01090"></a>01090   <span class="comment">// start(left) &gt;= start(right) + delay.</span>
<a name="l01091"></a>01091   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#555819d246c461f981e9c98dfbb84b36" title="start(left) &amp;gt;= start(right) + delay.">AddStartsAfterStartWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01092"></a>01092                                     <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01093"></a>01093                                     int64 delay);
<a name="l01094"></a>01094 
<a name="l01095"></a>01095   <span class="comment">// start(left) == start(right) + delay.</span>
<a name="l01096"></a>01096   <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#8148f860a9bb3f1f6703fd8e4ec4b0be" title="start(left) == start(right) + delay.">AddStartsAtStartWithDelay</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> left,
<a name="l01097"></a>01097                                  <a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> right,
<a name="l01098"></a>01098                                  int64 delay);
<a name="l01099"></a>01099 
<a name="l01100"></a>01100   <span class="comment">// Internal API.</span>
<a name="l01101"></a>01101 
<a name="l01102"></a>01102   <span class="comment">// Factory to create a node from an interval var. This node is</span>
<a name="l01103"></a>01103   <span class="comment">// attached to the start of the interval var.</span>
<a name="l01104"></a>01104   <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <a class="code" href="classoperations__research_1_1DependencyGraph.html#82a25f37e11ad328cd24f40d5cf422d2" title="Internal API.">BuildStartNode</a>(<a class="code" href="classoperations__research_1_1IntervalVar.html" title="Interval Var.">IntervalVar</a>* <span class="keyword">const</span> <a class="code" href="expr__array_8cc.html#472a99923cbe11ae7b5a5d157d9ad465">var</a>);
<a name="l01105"></a>01105 
<a name="l01106"></a>01106   <span class="comment">// Adds left == right + offset.</span>
<a name="l01107"></a>01107   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#9f3c1de2f16625293e3f4fee3b7845b3" title="Adds left == right + offset.">AddEquality</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> left,
<a name="l01108"></a>01108                            <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> right,
<a name="l01109"></a>01109                            int64 offset) = 0;
<a name="l01110"></a>01110   <span class="comment">// Adds left &gt;= right + offset.</span>
<a name="l01111"></a>01111   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#39caeada4f84f1c9d9288b297aea90d2" title="Adds left &amp;gt;= right + offset.">AddInequality</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> left,
<a name="l01112"></a>01112                              <a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> right,
<a name="l01113"></a>01113                              int64 offset) = 0;
<a name="l01114"></a>01114 
<a name="l01115"></a>01115   <span class="comment">// Tell the graph that this node has changed.</span>
<a name="l01116"></a>01116   <span class="comment">// If applied_to_min_or_max is true, the min has changed.</span>
<a name="l01117"></a>01117   <span class="comment">// If applied_to_min_or_max is false, the max has changed.</span>
<a name="l01118"></a>01118   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classoperations__research_1_1DependencyGraph.html#4a5d8b50ae2a5c328fbcd271cf1d8ea1" title="Tell the graph that this node has changed.">Enqueue</a>(<a class="code" href="classoperations__research_1_1DependencyGraphNode.html" title="A node in the dependency graph.">DependencyGraphNode</a>* <span class="keyword">const</span> <a class="code" href="dependency__graph_8cc.html#4eefd1c2b90c940bb972d6d038744cc3">node</a>,
<a name="l01119"></a>01119                        <span class="keywordtype">bool</span> applied_to_min_or_max) = 0;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121  <span class="keyword">private</span>:
<a name="l01122"></a>01122   hash_map&lt;IntervalVar*, DependencyGraphNode*&gt; start_node_map_;
<a name="l01123"></a>01123   std::vector&lt;DependencyGraphNode*&gt; managed_nodes_;
<a name="l01124"></a>01124 };
<a name="l01125"></a>01125 <span class="preprocessor">#endif</span>
<a name="l01126"></a>01126 <span class="preprocessor"></span>}  <span class="comment">// namespace operations_research</span>
<a name="l01127"></a>01127 
<a name="l01128"></a>01128 <span class="preprocessor">#endif  // OR_TOOLS_CONSTRAINT_SOLVER_CONSTRAINT_SOLVERI_H_</span>
</pre></div></div>

  <!-- Start of footer. -->
  <table width=100% cellpadding=0 cellspacing=0 border=0>
    <tr valign=top>
      <td colspan=2 height=10></td>
    </tr>
    <tr valign=top>
      <td colspan=2 bgcolor=#785251 height=3></td>
    </tr>
  </table>

  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  <br /><br />

  
  </body>
</html>
